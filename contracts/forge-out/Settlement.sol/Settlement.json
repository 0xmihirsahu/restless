{"abi":[{"type":"constructor","inputs":[{"name":"_token","type":"address","internalType":"address"},{"name":"_lifiDiamond","type":"address","internalType":"address"},{"name":"_hook","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"hook","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IRestlessSettlementHook"}],"stateMutability":"view"},{"type":"function","name":"lifiDiamond","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"setHook","inputs":[{"name":"_hook","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"settle","inputs":[{"name":"dealId","type":"uint256","internalType":"uint256"},{"name":"depositor","type":"address","internalType":"address"},{"name":"counterparty","type":"address","internalType":"address"},{"name":"principal","type":"uint256","internalType":"uint256"},{"name":"total","type":"uint256","internalType":"uint256"},{"name":"yieldSplitCounterparty","type":"uint8","internalType":"uint8"},{"name":"lifiData","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"settleWithHook","inputs":[{"name":"dealId","type":"uint256","internalType":"uint256"},{"name":"depositor","type":"address","internalType":"address"},{"name":"counterparty","type":"address","internalType":"address"},{"name":"principal","type":"uint256","internalType":"uint256"},{"name":"total","type":"uint256","internalType":"uint256"},{"name":"yieldSplitCounterparty","type":"uint8","internalType":"uint8"},{"name":"preferredToken","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"token","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IERC20"}],"stateMutability":"view"},{"type":"event","name":"DealSettled","inputs":[{"name":"dealId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"depositor","type":"address","indexed":true,"internalType":"address"},{"name":"counterparty","type":"address","indexed":true,"internalType":"address"},{"name":"counterpartyPayout","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"depositorPayout","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"HookUpdated","inputs":[{"name":"hook","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"error","name":"SafeERC20FailedOperation","inputs":[{"name":"token","type":"address","internalType":"address"}]}],"bytecode":{"object":"0x60e060405234801561000f575f80fd5b506040516110db3803806110db83398101604081905261002e916100d5565b6001600160a01b0383166100785760405162461bcd60e51b815260206004820152600d60248201526c24b73b30b634b2103a37b5b2b760991b604482015260640160405180910390fd5b6001600160a01b0380841660805282811660a0523360c0528116156100b2575f80546001600160a01b0319166001600160a01b0383161790555b505050610115565b80516001600160a01b03811681146100d0575f80fd5b919050565b5f805f606084860312156100e7575f80fd5b6100f0846100ba565b92506100fe602085016100ba565b915061010c604085016100ba565b90509250925092565b60805160a05160c051610f2d6101ae5f395f8181610100015261016701525f81816083015281816106ef015281816107f90152818161089b0152610a4901525f818161013a01528181610344015281816103b50152818161040a0152818161050701528181610675015281816107710152818161082b0152818161096f01528181610a7701528181610af70152610b310152610f2d5ff3fe608060405234801561000f575f80fd5b506004361061007a575f3560e01c80637f5a7c7b116100585780637f5a7c7b146100e95780638da5cb5b146100fb578063b310d9c614610122578063fc0c546a14610135575f80fd5b80632bd16c8f1461007e5780633dfd3873146100c15780635ab9a38c146100d6575b5f80fd5b6100a57f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200160405180910390f35b6100d46100cf366004610ce8565b61015c565b005b6100d46100e4366004610d18565b61020d565b5f546100a5906001600160a01b031681565b6100a57f000000000000000000000000000000000000000000000000000000000000000081565b6100d4610130366004610d84565b61058b565b6100a57f000000000000000000000000000000000000000000000000000000000000000081565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146101c65760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b60448201526064015b60405180910390fd5b5f80546001600160a01b0319166001600160a01b038316908117825560405190917fe816c20840d998c8612f9b624b91687a80510eeb293cb09f7637379f6d73342d91a250565b5f84116102545760405162461bcd60e51b815260206004820152601560248201527405072696e636970616c206d757374206265203e203605c1b60448201526064016101bd565b838310156102a05760405162461bcd60e51b8152602060048201526019602482015278151bdd185b081b195cdcc81d1a185b881c1c9a5b98da5c185b603a1b60448201526064016101bd565b60648260ff1611156102ea5760405162461bcd60e51b8152602060048201526013602482015272125b9d985b1a59081e5a595b19081cdc1b1a5d606a1b60448201526064016101bd565b5f546001600160a01b03166103375760405162461bcd60e51b8152602060048201526013602482015272121bdbdac81b9bdd0818dbdb999a59dd5c9959606a1b60448201526064016101bd565b61036c6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333086610bbe565b5f6103778585610e50565b90505f606461038960ff861684610e69565b6103939190610e80565b90505f6103a08284610e50565b905086156103dc576103dc6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168989610c2b565b81156104f4575f5460405163095ea7b360e01b81526001600160a01b039182166004820152602481018490527f00000000000000000000000000000000000000000000000000000000000000009091169063095ea7b3906044016020604051808303815f875af1158015610452573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104769190610e9f565b505f546040516329d0820b60e01b81526001600160a01b038a81166004830152602482018590528681166044830152909116906329d0820b906064016020604051808303815f875af11580156104ce573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104f29190610ebe565b505b801561052e5761052e6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168a83610c2b565b6001600160a01b03808916908a168b7f38d1d351aaed4d042e96c9e1ebf794cafeb9ec533318564d969b5335b2d2c321610568868c610ed5565b60408051918252602082018790520160405180910390a450505050505050505050565b5f85116105d25760405162461bcd60e51b815260206004820152601560248201527405072696e636970616c206d757374206265203e203605c1b60448201526064016101bd565b8484101561061e5760405162461bcd60e51b8152602060048201526019602482015278151bdd185b081b195cdcc81d1a185b881c1c9a5b98da5c185b603a1b60448201526064016101bd565b60648360ff1611156106685760405162461bcd60e51b8152602060048201526013602482015272125b9d985b1a59081e5a595b19081cdc1b1a5d606a1b60448201526064016101bd565b61069d6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333087610bbe565b5f6106a88686610e50565b90505f60646106ba60ff871684610e69565b6106c49190610e80565b90505f6106d18284610e50565b90505f6106de838a610ed5565b9050818115610b1e578515610aea577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031661075a5760405162461bcd60e51b815260206004820152601460248201527313124b9192481b9bdd0818dbdb999a59dd5c995960621b60448201526064016101bd565b6040516370a0823160e01b81523060048201525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa1580156107be573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107e29190610ebe565b60405163095ea7b360e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166004830152602482018690529192507f00000000000000000000000000000000000000000000000000000000000000009091169063095ea7b3906044016020604051808303815f875af1158015610873573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108979190610e9f565b505f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031689896040516108d3929190610ee8565b5f604051808303815f865af19150503d805f811461090c576040519150601f19603f3d011682016040523d82523d5f602084013e610911565b606091505b50509050806109585760405162461bcd60e51b815260206004820152601360248201527213124b919248189c9a5919d94819985a5b1959606a1b60448201526064016101bd565b6040516370a0823160e01b81523060048201525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa1580156109bc573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906109e09190610ebe565b9050846109ed8285610e50565b14610a325760405162461bcd60e51b8152602060048201526015602482015274098925c8c9240c2dadeeadce840dad2e6dac2e8c6d605b1b60448201526064016101bd565b60405163095ea7b360e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000811660048301525f60248301527f0000000000000000000000000000000000000000000000000000000000000000169063095ea7b3906044016020604051808303815f875af1158015610abd573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610ae19190610e9f565b50505050610b1e565b610b1e6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168c84610c2b565b8015610b5857610b586001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168d83610c2b565b8a6001600160a01b03168c6001600160a01b03168e7f38d1d351aaed4d042e96c9e1ebf794cafeb9ec533318564d969b5335b2d2c3218585604051610ba7929190918252602082015260400190565b60405180910390a450505050505050505050505050565b6040516001600160a01b038481166024830152838116604483015260648201839052610c259186918216906323b872dd906084015b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050610c61565b50505050565b6040516001600160a01b03838116602483015260448201839052610c5c91859182169063a9059cbb90606401610bf3565b505050565b5f8060205f8451602086015f885af180610c80576040513d5f823e3d81fd5b50505f513d91508115610c97578060011415610ca4565b6001600160a01b0384163b155b15610c2557604051635274afe760e01b81526001600160a01b03851660048201526024016101bd565b80356001600160a01b0381168114610ce3575f80fd5b919050565b5f60208284031215610cf8575f80fd5b610d0182610ccd565b9392505050565b803560ff81168114610ce3575f80fd5b5f805f805f805f60e0888a031215610d2e575f80fd5b87359650610d3e60208901610ccd565b9550610d4c60408901610ccd565b94506060880135935060808801359250610d6860a08901610d08565b9150610d7660c08901610ccd565b905092959891949750929550565b5f805f805f805f8060e0898b031215610d9b575f80fd5b88359750610dab60208a01610ccd565b9650610db960408a01610ccd565b95506060890135945060808901359350610dd560a08a01610d08565b925060c089013567ffffffffffffffff80821115610df1575f80fd5b818b0191508b601f830112610e04575f80fd5b813581811115610e12575f80fd5b8c6020828501011115610e23575f80fd5b6020830194508093505050509295985092959890939650565b634e487b7160e01b5f52601160045260245ffd5b81810381811115610e6357610e63610e3c565b92915050565b8082028115828204841417610e6357610e63610e3c565b5f82610e9a57634e487b7160e01b5f52601260045260245ffd5b500490565b5f60208284031215610eaf575f80fd5b81518015158114610d01575f80fd5b5f60208284031215610ece575f80fd5b5051919050565b80820180821115610e6357610e63610e3c565b818382375f910190815291905056fea26469706673582212206c66bed1f1b0009803d3680f6e6dcfa136f40b9600d324c9d74427cdfd9312c864736f6c63430008180033","sourceMap":"480:5217:3:-:0;;;1056:322;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;1139:20:3;;1131:46;;;;-1:-1:-1;;;1131:46:3;;781:2:57;1131:46:3;;;763:21:57;820:2;800:18;;;793:30;-1:-1:-1;;;839:18:57;;;832:43;892:18;;1131:46:3;;;;;;;;-1:-1:-1;;;;;1188:22:3;;;;;1220:26;;;;;1264:10;1256:18;;1289:19;;;1285:87;;1324:4;:37;;-1:-1:-1;;;;;;1324:37:3;-1:-1:-1;;;;;1324:37:3;;;;;1285:87;1056:322;;;480:5217;;14:177:57;93:13;;-1:-1:-1;;;;;135:31:57;;125:42;;115:70;;181:1;178;171:12;115:70;14:177;;;:::o;196:378::-;284:6;292;300;353:2;341:9;332:7;328:23;324:32;321:52;;;369:1;366;359:12;321:52;392:40;422:9;392:40;:::i;:::-;382:50;;451:49;496:2;485:9;481:18;451:49;:::i;:::-;441:59;;519:49;564:2;553:9;549:18;519:49;:::i;:::-;509:59;;196:378;;;;;:::o;579:337::-;480:5217:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f80fd5b506004361061007a575f3560e01c80637f5a7c7b116100585780637f5a7c7b146100e95780638da5cb5b146100fb578063b310d9c614610122578063fc0c546a14610135575f80fd5b80632bd16c8f1461007e5780633dfd3873146100c15780635ab9a38c146100d6575b5f80fd5b6100a57f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200160405180910390f35b6100d46100cf366004610ce8565b61015c565b005b6100d46100e4366004610d18565b61020d565b5f546100a5906001600160a01b031681565b6100a57f000000000000000000000000000000000000000000000000000000000000000081565b6100d4610130366004610d84565b61058b565b6100a57f000000000000000000000000000000000000000000000000000000000000000081565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146101c65760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b60448201526064015b60405180910390fd5b5f80546001600160a01b0319166001600160a01b038316908117825560405190917fe816c20840d998c8612f9b624b91687a80510eeb293cb09f7637379f6d73342d91a250565b5f84116102545760405162461bcd60e51b815260206004820152601560248201527405072696e636970616c206d757374206265203e203605c1b60448201526064016101bd565b838310156102a05760405162461bcd60e51b8152602060048201526019602482015278151bdd185b081b195cdcc81d1a185b881c1c9a5b98da5c185b603a1b60448201526064016101bd565b60648260ff1611156102ea5760405162461bcd60e51b8152602060048201526013602482015272125b9d985b1a59081e5a595b19081cdc1b1a5d606a1b60448201526064016101bd565b5f546001600160a01b03166103375760405162461bcd60e51b8152602060048201526013602482015272121bdbdac81b9bdd0818dbdb999a59dd5c9959606a1b60448201526064016101bd565b61036c6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333086610bbe565b5f6103778585610e50565b90505f606461038960ff861684610e69565b6103939190610e80565b90505f6103a08284610e50565b905086156103dc576103dc6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168989610c2b565b81156104f4575f5460405163095ea7b360e01b81526001600160a01b039182166004820152602481018490527f00000000000000000000000000000000000000000000000000000000000000009091169063095ea7b3906044016020604051808303815f875af1158015610452573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104769190610e9f565b505f546040516329d0820b60e01b81526001600160a01b038a81166004830152602482018590528681166044830152909116906329d0820b906064016020604051808303815f875af11580156104ce573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104f29190610ebe565b505b801561052e5761052e6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168a83610c2b565b6001600160a01b03808916908a168b7f38d1d351aaed4d042e96c9e1ebf794cafeb9ec533318564d969b5335b2d2c321610568868c610ed5565b60408051918252602082018790520160405180910390a450505050505050505050565b5f85116105d25760405162461bcd60e51b815260206004820152601560248201527405072696e636970616c206d757374206265203e203605c1b60448201526064016101bd565b8484101561061e5760405162461bcd60e51b8152602060048201526019602482015278151bdd185b081b195cdcc81d1a185b881c1c9a5b98da5c185b603a1b60448201526064016101bd565b60648360ff1611156106685760405162461bcd60e51b8152602060048201526013602482015272125b9d985b1a59081e5a595b19081cdc1b1a5d606a1b60448201526064016101bd565b61069d6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333087610bbe565b5f6106a88686610e50565b90505f60646106ba60ff871684610e69565b6106c49190610e80565b90505f6106d18284610e50565b90505f6106de838a610ed5565b9050818115610b1e578515610aea577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031661075a5760405162461bcd60e51b815260206004820152601460248201527313124b9192481b9bdd0818dbdb999a59dd5c995960621b60448201526064016101bd565b6040516370a0823160e01b81523060048201525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa1580156107be573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107e29190610ebe565b60405163095ea7b360e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166004830152602482018690529192507f00000000000000000000000000000000000000000000000000000000000000009091169063095ea7b3906044016020604051808303815f875af1158015610873573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108979190610e9f565b505f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031689896040516108d3929190610ee8565b5f604051808303815f865af19150503d805f811461090c576040519150601f19603f3d011682016040523d82523d5f602084013e610911565b606091505b50509050806109585760405162461bcd60e51b815260206004820152601360248201527213124b919248189c9a5919d94819985a5b1959606a1b60448201526064016101bd565b6040516370a0823160e01b81523060048201525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa1580156109bc573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906109e09190610ebe565b9050846109ed8285610e50565b14610a325760405162461bcd60e51b8152602060048201526015602482015274098925c8c9240c2dadeeadce840dad2e6dac2e8c6d605b1b60448201526064016101bd565b60405163095ea7b360e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000811660048301525f60248301527f0000000000000000000000000000000000000000000000000000000000000000169063095ea7b3906044016020604051808303815f875af1158015610abd573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610ae19190610e9f565b50505050610b1e565b610b1e6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168c84610c2b565b8015610b5857610b586001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168d83610c2b565b8a6001600160a01b03168c6001600160a01b03168e7f38d1d351aaed4d042e96c9e1ebf794cafeb9ec533318564d969b5335b2d2c3218585604051610ba7929190918252602082015260400190565b60405180910390a450505050505050505050505050565b6040516001600160a01b038481166024830152838116604483015260648201839052610c259186918216906323b872dd906084015b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050610c61565b50505050565b6040516001600160a01b03838116602483015260448201839052610c5c91859182169063a9059cbb90606401610bf3565b505050565b5f8060205f8451602086015f885af180610c80576040513d5f823e3d81fd5b50505f513d91508115610c97578060011415610ca4565b6001600160a01b0384163b155b15610c2557604051635274afe760e01b81526001600160a01b03851660048201526024016101bd565b80356001600160a01b0381168114610ce3575f80fd5b919050565b5f60208284031215610cf8575f80fd5b610d0182610ccd565b9392505050565b803560ff81168114610ce3575f80fd5b5f805f805f805f60e0888a031215610d2e575f80fd5b87359650610d3e60208901610ccd565b9550610d4c60408901610ccd565b94506060880135935060808801359250610d6860a08901610d08565b9150610d7660c08901610ccd565b905092959891949750929550565b5f805f805f805f8060e0898b031215610d9b575f80fd5b88359750610dab60208a01610ccd565b9650610db960408a01610ccd565b95506060890135945060808901359350610dd560a08a01610d08565b925060c089013567ffffffffffffffff80821115610df1575f80fd5b818b0191508b601f830112610e04575f80fd5b813581811115610e12575f80fd5b8c6020828501011115610e23575f80fd5b6020830194508093505050509295985092959890939650565b634e487b7160e01b5f52601160045260245ffd5b81810381811115610e6357610e63610e3c565b92915050565b8082028115828204841417610e6357610e63610e3c565b5f82610e9a57634e487b7160e01b5f52601260045260245ffd5b500490565b5f60208284031215610eaf575f80fd5b81518015158114610d01575f80fd5b5f60208284031215610ece575f80fd5b5051919050565b80820180821115610e6357610e63610e3c565b818382375f910190815291905056fea26469706673582212206c66bed1f1b0009803d3680f6e6dcfa136f40b9600d324c9d74427cdfd9312c864736f6c63430008180033","sourceMap":"480:5217:3:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;589:36;;;;;;;;-1:-1:-1;;;;;178:32:57;;;160:51;;148:2;133:18;589:36:3;;;;;;;1435:138;;;;;;:::i;:::-;;:::i;:::-;;4161:1534;;;;;;:::i;:::-;;:::i;667:35::-;;;;;-1:-1:-1;;;;;667:35:3;;;631:30;;;;;1611:2000;;;;;;:::i;:::-;;:::i;554:29::-;;;;;1435:138;998:10;-1:-1:-1;;;;;1012:5:3;998:19;;990:42;;;;-1:-1:-1;;;990:42:3;;3056:2:57;990:42:3;;;3038:21:57;3095:2;3075:18;;;3068:30;-1:-1:-1;;;3114:18:57;;;3107:40;3164:18;;990:42:3;;;;;;;;;1496:4:::1;:37:::0;;-1:-1:-1;;;;;;1496:37:3::1;-1:-1:-1::0;;;;;1496:37:3;::::1;::::0;;::::1;::::0;;1548:18:::1;::::0;1496:37;;1548:18:::1;::::0;::::1;1435:138:::0;:::o;4161:1534::-;4440:1;4428:9;:13;4420:47;;;;-1:-1:-1;;;4420:47:3;;3395:2:57;4420:47:3;;;3377:21:57;3434:2;3414:18;;;3407:30;-1:-1:-1;;;3453:18:57;;;3446:51;3514:18;;4420:47:3;3193:345:57;4420:47:3;4494:9;4485:5;:18;;4477:56;;;;-1:-1:-1;;;4477:56:3;;3745:2:57;4477:56:3;;;3727:21:57;3784:2;3764:18;;;3757:30;-1:-1:-1;;;3803:18:57;;;3796:55;3868:18;;4477:56:3;3543:349:57;4477:56:3;4577:3;4551:22;:29;;;;4543:61;;;;-1:-1:-1;;;4543:61:3;;4099:2:57;4543:61:3;;;4081:21:57;4138:2;4118:18;;;4111:30;-1:-1:-1;;;4157:18:57;;;4150:49;4216:18;;4543:61:3;3897:343:57;4543:61:3;4647:1;4630:4;-1:-1:-1;;;;;4630:4:3;4614:59;;;;-1:-1:-1;;;4614:59:3;;4447:2:57;4614:59:3;;;4429:21:57;4486:2;4466:18;;;4459:30;-1:-1:-1;;;4505:18:57;;;4498:49;4564:18;;4614:59:3;4245:343:57;4614:59:3;4728:56;-1:-1:-1;;;;;4728:5:3;:22;4751:10;4771:4;4778:5;4728:22;:56::i;:::-;4832:19;4854:17;4862:9;4854:5;:17;:::i;:::-;4832:39;-1:-1:-1;4881:25:3;4950:3;4910:36;;;;4832:39;4910:36;:::i;:::-;4909:44;;;;:::i;:::-;4881:72;-1:-1:-1;4963:22:3;4988:31;4881:72;4988:11;:31;:::i;:::-;4963:56;-1:-1:-1;5093:13:3;;5089:87;;5122:43;-1:-1:-1;;;;;5122:5:3;:18;5141:12;5155:9;5122:18;:43::i;:::-;5250:21;;5246:181;;5309:4;;5287:47;;-1:-1:-1;;;5287:47:3;;-1:-1:-1;;;;;5309:4:3;;;5287:47;;;5427:51:57;5494:18;;;5487:34;;;5287:5:3;:13;;;;;;5400:18:57;;5287:47:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;5348:4:3;;:68;;-1:-1:-1;;;5348:68:3;;-1:-1:-1;;;;;6072:15:57;;;5348:68:3;;;6054:34:57;6104:18;;;6097:34;;;6167:15;;;6147:18;;;6140:43;5348:4:3;;;;:19;;5989:18:57;;5348:68:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;5246:181;5492:18;;5488:94;;5526:45;-1:-1:-1;;;;;5526:5:3;:18;5545:9;5556:14;5526:18;:45::i;:::-;-1:-1:-1;;;;;5597:91:3;;;;;;5609:6;5597:91;5642:29;5654:17;5642:9;:29;:::i;:::-;5597:91;;;6687:25:57;;;6743:2;6728:18;;6721:34;;;6660:18;5597:91:3;;;;;;;4410:1285;;;4161:1534;;;;;;;:::o;1611:2000::-;1883:1;1871:9;:13;1863:47;;;;-1:-1:-1;;;1863:47:3;;3395:2:57;1863:47:3;;;3377:21:57;3434:2;3414:18;;;3407:30;-1:-1:-1;;;3453:18:57;;;3446:51;3514:18;;1863:47:3;3193:345:57;1863:47:3;1937:9;1928:5;:18;;1920:56;;;;-1:-1:-1;;;1920:56:3;;3745:2:57;1920:56:3;;;3727:21:57;3784:2;3764:18;;;3757:30;-1:-1:-1;;;3803:18:57;;;3796:55;3868:18;;1920:56:3;3543:349:57;1920:56:3;2020:3;1994:22;:29;;;;1986:61;;;;-1:-1:-1;;;1986:61:3;;4099:2:57;1986:61:3;;;4081:21:57;4138:2;4118:18;;;4111:30;-1:-1:-1;;;4157:18:57;;;4150:49;4216:18;;1986:61:3;3897:343:57;1986:61:3;2102:56;-1:-1:-1;;;;;2102:5:3;:22;2125:10;2145:4;2152:5;2102:22;:56::i;:::-;2206:19;2228:17;2236:9;2228:5;:17;:::i;:::-;2206:39;-1:-1:-1;2255:25:3;2324:3;2284:36;;;;2206:39;2284:36;:::i;:::-;2283:44;;;;:::i;:::-;2255:72;-1:-1:-1;2337:22:3;2362:31;2255:72;2362:11;:31;:::i;:::-;2337:56;-1:-1:-1;2404:26:3;2433:29;2445:17;2433:9;:29;:::i;:::-;2404:58;-1:-1:-1;2498:14:3;2587:22;;2583:776;;2629:19;;2625:724;;2733:11;-1:-1:-1;;;;;2733:25:3;2725:58;;;;-1:-1:-1;;;2725:58:3;;6968:2:57;2725:58:3;;;6950:21:57;7007:2;6987:18;;;6980:30;-1:-1:-1;;;7026:18:57;;;7019:50;7086:18;;2725:58:3;6766:344:57;2725:58:3;2821:30;;-1:-1:-1;;;2821:30:3;;2845:4;2821:30;;;160:51:57;2801:17:3;;2821:5;-1:-1:-1;;;;;2821:15:3;;;;133:18:57;;2821:30:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2869:46;;-1:-1:-1;;;2869:46:3;;-1:-1:-1;;;;;2883:11:3;5445:32:57;;2869:46:3;;;5427:51:57;5494:18;;;5487:34;;;2801:50:3;;-1:-1:-1;2869:5:3;:13;;;;;;5400:18:57;;2869:46:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;2934:12;2952:11;-1:-1:-1;;;;;2952:16:3;2969:8;;2952:26;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2933:45;;;3004:7;2996:39;;;;-1:-1:-1;;;2996:39:3;;7593:2:57;2996:39:3;;;7575:21:57;7632:2;7612:18;;;7605:30;-1:-1:-1;;;7651:18:57;;;7644:49;7710:18;;2996:39:3;7391:343:57;2996:39:3;3072:30;;-1:-1:-1;;;3072:30:3;;3096:4;3072:30;;;160:51:57;3053:16:3;;3072:5;-1:-1:-1;;;;;3072:15:3;;;;133:18:57;;3072:30:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3053:49;-1:-1:-1;3152:18:3;3128:20;3053:49;3128:9;:20;:::i;:::-;:42;3120:76;;;;-1:-1:-1;;;3120:76:3;;7941:2:57;3120:76:3;;;7923:21:57;7980:2;7960:18;;;7953:30;-1:-1:-1;;;7999:18:57;;;7992:51;8060:18;;3120:76:3;7739:345:57;3120:76:3;3214:29;;-1:-1:-1;;;3214:29:3;;-1:-1:-1;;;;;3228:11:3;5445:32:57;;3214:29:3;;;5427:51:57;-1:-1:-1;5494:18:57;;;5487:34;3214:5:3;:13;;;;5400:18:57;;3214:29:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;2650:608;;;2625:724;;;3282:52;-1:-1:-1;;;;;3282:5:3;:18;3301:12;3315:18;3282;:52::i;:::-;3416:19;;3412:96;;3451:46;-1:-1:-1;;;;;3451:5:3;:18;3470:9;3481:15;3451:18;:46::i;:::-;3554:12;-1:-1:-1;;;;;3523:81:3;3543:9;-1:-1:-1;;;;;3523:81:3;3535:6;3523:81;3568:18;3588:15;3523:81;;;;;;6687:25:57;;;6743:2;6728:18;;6721:34;6675:2;6660:18;;6513:248;3523:81:3;;;;;;;;1853:1758;;;;;1611:2000;;;;;;;;:::o;1618:188:21:-;1745:53;;-1:-1:-1;;;;;8634:15:57;;;1745:53:21;;;8616:34:57;8686:15;;;8666:18;;;8659:43;8718:18;;;8711:34;;;1718:81:21;;1738:5;;1760:18;;;;;8551::57;;1745:53:21;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1745:53:21;;;;;;;;;;;1718:19;:81::i;:::-;1618:188;;;;:::o;1219:160::-;1328:43;;-1:-1:-1;;;;;5445:32:57;;;1328:43:21;;;5427:51:57;5494:18;;;5487:34;;;1301:71:21;;1321:5;;1343:14;;;;;5400:18:57;;1328:43:21;5253:274:57;1301:71:21;1219:160;;;:::o;8370:720::-;8450:18;8478:19;8616:4;8613:1;8606:4;8600:11;8593:4;8587;8583:15;8580:1;8573:5;8566;8561:60;8673:7;8663:176;;8717:4;8711:11;8762:16;8759:1;8754:3;8739:40;8808:16;8803:3;8796:29;8663:176;-1:-1:-1;;8916:1:21;8910:8;8866:16;;-1:-1:-1;8942:15:21;;:68;;8994:11;9009:1;8994:16;;8942:68;;;-1:-1:-1;;;;;8960:26:21;;;:31;8942:68;8938:146;;;9033:40;;-1:-1:-1;;;9033:40:21;;-1:-1:-1;;;;;178:32:57;;9033:40:21;;;160:51:57;133:18;;9033:40:21;14:203:57;222:173;290:20;;-1:-1:-1;;;;;339:31:57;;329:42;;319:70;;385:1;382;375:12;319:70;222:173;;;:::o;400:186::-;459:6;512:2;500:9;491:7;487:23;483:32;480:52;;;528:1;525;518:12;480:52;551:29;570:9;551:29;:::i;:::-;541:39;400:186;-1:-1:-1;;;400:186:57:o;591:156::-;657:20;;717:4;706:16;;696:27;;686:55;;737:1;734;727:12;752:612;863:6;871;879;887;895;903;911;964:3;952:9;943:7;939:23;935:33;932:53;;;981:1;978;971:12;932:53;1017:9;1004:23;994:33;;1046:38;1080:2;1069:9;1065:18;1046:38;:::i;:::-;1036:48;;1103:38;1137:2;1126:9;1122:18;1103:38;:::i;:::-;1093:48;;1188:2;1177:9;1173:18;1160:32;1150:42;;1239:3;1228:9;1224:19;1211:33;1201:43;;1263:37;1295:3;1284:9;1280:19;1263:37;:::i;:::-;1253:47;;1319:39;1353:3;1342:9;1338:19;1319:39;:::i;:::-;1309:49;;752:612;;;;;;;;;;:::o;1609:1017::-;1731:6;1739;1747;1755;1763;1771;1779;1787;1840:3;1828:9;1819:7;1815:23;1811:33;1808:53;;;1857:1;1854;1847:12;1808:53;1893:9;1880:23;1870:33;;1922:38;1956:2;1945:9;1941:18;1922:38;:::i;:::-;1912:48;;1979:38;2013:2;2002:9;1998:18;1979:38;:::i;:::-;1969:48;;2064:2;2053:9;2049:18;2036:32;2026:42;;2115:3;2104:9;2100:19;2087:33;2077:43;;2139:37;2171:3;2160:9;2156:19;2139:37;:::i;:::-;2129:47;;2227:3;2216:9;2212:19;2199:33;2251:18;2292:2;2284:6;2281:14;2278:34;;;2308:1;2305;2298:12;2278:34;2346:6;2335:9;2331:22;2321:32;;2391:7;2384:4;2380:2;2376:13;2372:27;2362:55;;2413:1;2410;2403:12;2362:55;2453:2;2440:16;2479:2;2471:6;2468:14;2465:34;;;2495:1;2492;2485:12;2465:34;2540:7;2535:2;2526:6;2522:2;2518:15;2514:24;2511:37;2508:57;;;2561:1;2558;2551:12;2508:57;2592:2;2588;2584:11;2574:21;;2614:6;2604:16;;;;;1609:1017;;;;;;;;;;;:::o;4593:127::-;4654:10;4649:3;4645:20;4642:1;4635:31;4685:4;4682:1;4675:15;4709:4;4706:1;4699:15;4725:128;4792:9;;;4813:11;;;4810:37;;;4827:18;;:::i;:::-;4725:128;;;;:::o;4858:168::-;4931:9;;;4962;;4979:15;;;4973:22;;4959:37;4949:71;;5000:18;;:::i;5031:217::-;5071:1;5097;5087:132;;5141:10;5136:3;5132:20;5129:1;5122:31;5176:4;5173:1;5166:15;5204:4;5201:1;5194:15;5087:132;-1:-1:-1;5233:9:57;;5031:217::o;5532:277::-;5599:6;5652:2;5640:9;5631:7;5627:23;5623:32;5620:52;;;5668:1;5665;5658:12;5620:52;5700:9;5694:16;5753:5;5746:13;5739:21;5732:5;5729:32;5719:60;;5775:1;5772;5765:12;6194:184;6264:6;6317:2;6305:9;6296:7;6292:23;6288:32;6285:52;;;6333:1;6330;6323:12;6285:52;-1:-1:-1;6356:16:57;;6194:184;-1:-1:-1;6194:184:57:o;6383:125::-;6448:9;;;6469:10;;;6466:36;;;6482:18;;:::i;7115:271::-;7298:6;7290;7285:3;7272:33;7254:3;7324:16;;7349:13;;;7324:16;7115:271;-1:-1:-1;7115:271:57:o","linkReferences":{},"immutableReferences":{"1768":[{"start":314,"length":32},{"start":836,"length":32},{"start":949,"length":32},{"start":1034,"length":32},{"start":1287,"length":32},{"start":1653,"length":32},{"start":1905,"length":32},{"start":2091,"length":32},{"start":2415,"length":32},{"start":2679,"length":32},{"start":2807,"length":32},{"start":2865,"length":32}],"1770":[{"start":131,"length":32},{"start":1775,"length":32},{"start":2041,"length":32},{"start":2203,"length":32},{"start":2633,"length":32}],"1772":[{"start":256,"length":32},{"start":359,"length":32}]}},"methodIdentifiers":{"hook()":"7f5a7c7b","lifiDiamond()":"2bd16c8f","owner()":"8da5cb5b","setHook(address)":"3dfd3873","settle(uint256,address,address,uint256,uint256,uint8,bytes)":"b310d9c6","settleWithHook(uint256,address,address,uint256,uint256,uint8,address)":"5ab9a38c","token()":"fc0c546a"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_lifiDiamond\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_hook\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"SafeERC20FailedOperation\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"dealId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"depositor\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"counterparty\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"counterpartyPayout\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"depositorPayout\",\"type\":\"uint256\"}],\"name\":\"DealSettled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"hook\",\"type\":\"address\"}],\"name\":\"HookUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"hook\",\"outputs\":[{\"internalType\":\"contract IRestlessSettlementHook\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lifiDiamond\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_hook\",\"type\":\"address\"}],\"name\":\"setHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"dealId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"depositor\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"counterparty\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"principal\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"total\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"yieldSplitCounterparty\",\"type\":\"uint8\"},{\"internalType\":\"bytes\",\"name\":\"lifiData\",\"type\":\"bytes\"}],\"name\":\"settle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"dealId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"depositor\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"counterparty\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"principal\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"total\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"yieldSplitCounterparty\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"preferredToken\",\"type\":\"address\"}],\"name\":\"settleWithHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"token\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Called by RestlessEscrow after withdrawing funds from yield adapter\",\"errors\":{\"SafeERC20FailedOperation(address)\":[{\"details\":\"An operation with an ERC-20 token failed.\"}]},\"kind\":\"dev\",\"methods\":{\"settle(uint256,address,address,uint256,uint256,uint8,bytes)\":{\"params\":{\"counterparty\":\"The counterparty address\",\"dealId\":\"The deal identifier\",\"depositor\":\"The depositor address\",\"lifiData\":\"Encoded LI.FI cross-chain route data (empty for same-chain)\",\"principal\":\"The original deposited amount\",\"total\":\"The total withdrawn amount (principal + yield)\",\"yieldSplitCounterparty\":\"Percentage of yield going to counterparty (0-100)\"}},\"settleWithHook(uint256,address,address,uint256,uint256,uint8,address)\":{\"params\":{\"counterparty\":\"The counterparty address\",\"dealId\":\"The deal identifier\",\"depositor\":\"The depositor address\",\"preferredToken\":\"The token counterparty wants their yield in\",\"principal\":\"The original deposited amount\",\"total\":\"The total withdrawn amount (principal + yield)\",\"yieldSplitCounterparty\":\"Percentage of yield going to counterparty (0-100)\"}}},\"title\":\"Settlement\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"setHook(address)\":{\"notice\":\"Update the settlement hook address\"},\"settle(uint256,address,address,uint256,uint256,uint8,bytes)\":{\"notice\":\"Settle a deal: split yield and pay out parties\"},\"settleWithHook(uint256,address,address,uint256,uint256,uint8,address)\":{\"notice\":\"Settle with yield swapped to counterparty's preferred token via hook\"}},\"notice\":\"Handles yield splitting, payout routing, cross-chain bridging (LI.FI), and yield swaps (v4 hook)\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/Settlement.sol\":\"Settlement\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@aave/=node_modules/@aave/\",\":@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/\",\":forge-std/=node_modules/forge-std/src/\",\":hardhat/=node_modules/hardhat/\"]},\"sources\":{\"contracts/Settlement.sol\":{\"keccak256\":\"0x29eefb257185577a4e41679ec74fb7a7574906e1150cfec97fc2b5296324a778\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0a65eea9f60ffad505042f84e714e9aeb91ea44f4624c6b0dd4bc88dc9be2f12\",\"dweb:/ipfs/QmQypusqSxsae97BYfaFfHiyoBNkRpsBsQe8WcvyTcEm7B\"]},\"contracts/interfaces/IRestlessSettlementHook.sol\":{\"keccak256\":\"0x6f8f0515612ceb1c7acd00b52cde4a57fa9388678877f56ef4fe8d9da3214f8f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://84ef8b5425db03ae62e5d02ada5989b3cb16618c688b9788eeccf26b1fff1fa4\",\"dweb:/ipfs/QmQjkxUwoEJvsCrrvqAtKVhcx7DXQ3zm5xL6vXDQ4hvNj8\"]},\"contracts/interfaces/ISettlement.sol\":{\"keccak256\":\"0xac0c0831605d805279f99983e98ef7aab6d7d01e11ece1251399b86785be3964\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://4adcc9d3c993c059905861fddc96d2f4cdf7913b894a7db2b06111a56da57045\",\"dweb:/ipfs/QmUkrotB9APhKGJtBoDyZHWwtJacSLcCNrzdxv1roYgqFk\"]},\"node_modules/@openzeppelin/contracts/interfaces/IERC1363.sol\":{\"keccak256\":\"0xd5ea07362ab630a6a3dee4285a74cf2377044ca2e4be472755ad64d7c5d4b69d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://da5e832b40fc5c3145d3781e2e5fa60ac2052c9d08af7e300dc8ab80c4343100\",\"dweb:/ipfs/QmTzf7N5ZUdh5raqtzbM11yexiUoLC9z3Ws632MCuycq1d\"]},\"node_modules/@openzeppelin/contracts/interfaces/IERC165.sol\":{\"keccak256\":\"0x0afcb7e740d1537b252cb2676f600465ce6938398569f09ba1b9ca240dde2dfc\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1c299900ac4ec268d4570ecef0d697a3013cd11a6eb74e295ee3fbc945056037\",\"dweb:/ipfs/Qmab9owJoxcA7vJT5XNayCMaUR1qxqj1NDzzisduwaJMcZ\"]},\"node_modules/@openzeppelin/contracts/interfaces/IERC20.sol\":{\"keccak256\":\"0x1a6221315ce0307746c2c4827c125d821ee796c74a676787762f4778671d4f44\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1bb2332a7ee26dd0b0de9b7fe266749f54820c99ab6a3bcb6f7e6b751d47ee2d\",\"dweb:/ipfs/QmcRWpaBeCYkhy68PR3B4AgD7asuQk7PwkWxrvJbZcikLF\"]},\"node_modules/@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0x74ed01eb66b923d0d0cfe3be84604ac04b76482a55f9dd655e1ef4d367f95bc2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5282825a626cfe924e504274b864a652b0023591fa66f06a067b25b51ba9b303\",\"dweb:/ipfs/QmeCfPykghhMc81VJTrHTC7sF6CRvaA1FXVq2pJhwYp1dV\"]},\"node_modules/@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\":{\"keccak256\":\"0x982c5cb790ab941d1e04f807120a71709d4c313ba0bfc16006447ffbd27fbbd5\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8150ceb4ac947e8a442b2a9c017e01e880b2be2dd958f1fa9bc405f4c5a86508\",\"dweb:/ipfs/QmbcBmFX66AY6Kbhnd5gx7zpkgqnUafo43XnmayAM7zVdB\"]},\"node_modules/@openzeppelin/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x8891738ffe910f0cf2da09566928589bf5d63f4524dd734fd9cedbac3274dd5c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://971f954442df5c2ef5b5ebf1eb245d7105d9fbacc7386ee5c796df1d45b21617\",\"dweb:/ipfs/QmadRjHbkicwqwwh61raUEapaVEtaLMcYbQZWs9gUkgj3u\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address","name":"_lifiDiamond","type":"address"},{"internalType":"address","name":"_hook","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"type":"error","name":"SafeERC20FailedOperation"},{"inputs":[{"internalType":"uint256","name":"dealId","type":"uint256","indexed":true},{"internalType":"address","name":"depositor","type":"address","indexed":true},{"internalType":"address","name":"counterparty","type":"address","indexed":true},{"internalType":"uint256","name":"counterpartyPayout","type":"uint256","indexed":false},{"internalType":"uint256","name":"depositorPayout","type":"uint256","indexed":false}],"type":"event","name":"DealSettled","anonymous":false},{"inputs":[{"internalType":"address","name":"hook","type":"address","indexed":true}],"type":"event","name":"HookUpdated","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"hook","outputs":[{"internalType":"contract IRestlessSettlementHook","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"lifiDiamond","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"_hook","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setHook"},{"inputs":[{"internalType":"uint256","name":"dealId","type":"uint256"},{"internalType":"address","name":"depositor","type":"address"},{"internalType":"address","name":"counterparty","type":"address"},{"internalType":"uint256","name":"principal","type":"uint256"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"uint8","name":"yieldSplitCounterparty","type":"uint8"},{"internalType":"bytes","name":"lifiData","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"settle"},{"inputs":[{"internalType":"uint256","name":"dealId","type":"uint256"},{"internalType":"address","name":"depositor","type":"address"},{"internalType":"address","name":"counterparty","type":"address"},{"internalType":"uint256","name":"principal","type":"uint256"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"uint8","name":"yieldSplitCounterparty","type":"uint8"},{"internalType":"address","name":"preferredToken","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"settleWithHook"},{"inputs":[],"stateMutability":"view","type":"function","name":"token","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{"settle(uint256,address,address,uint256,uint256,uint8,bytes)":{"params":{"counterparty":"The counterparty address","dealId":"The deal identifier","depositor":"The depositor address","lifiData":"Encoded LI.FI cross-chain route data (empty for same-chain)","principal":"The original deposited amount","total":"The total withdrawn amount (principal + yield)","yieldSplitCounterparty":"Percentage of yield going to counterparty (0-100)"}},"settleWithHook(uint256,address,address,uint256,uint256,uint8,address)":{"params":{"counterparty":"The counterparty address","dealId":"The deal identifier","depositor":"The depositor address","preferredToken":"The token counterparty wants their yield in","principal":"The original deposited amount","total":"The total withdrawn amount (principal + yield)","yieldSplitCounterparty":"Percentage of yield going to counterparty (0-100)"}}},"version":1},"userdoc":{"kind":"user","methods":{"setHook(address)":{"notice":"Update the settlement hook address"},"settle(uint256,address,address,uint256,uint256,uint8,bytes)":{"notice":"Settle a deal: split yield and pay out parties"},"settleWithHook(uint256,address,address,uint256,uint256,uint8,address)":{"notice":"Settle with yield swapped to counterparty's preferred token via hook"}},"version":1}},"settings":{"remappings":["@aave/=node_modules/@aave/","@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/","forge-std/=node_modules/forge-std/src/","hardhat/=node_modules/hardhat/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/Settlement.sol":"Settlement"},"evmVersion":"shanghai","libraries":{}},"sources":{"contracts/Settlement.sol":{"keccak256":"0x29eefb257185577a4e41679ec74fb7a7574906e1150cfec97fc2b5296324a778","urls":["bzz-raw://0a65eea9f60ffad505042f84e714e9aeb91ea44f4624c6b0dd4bc88dc9be2f12","dweb:/ipfs/QmQypusqSxsae97BYfaFfHiyoBNkRpsBsQe8WcvyTcEm7B"],"license":"MIT"},"contracts/interfaces/IRestlessSettlementHook.sol":{"keccak256":"0x6f8f0515612ceb1c7acd00b52cde4a57fa9388678877f56ef4fe8d9da3214f8f","urls":["bzz-raw://84ef8b5425db03ae62e5d02ada5989b3cb16618c688b9788eeccf26b1fff1fa4","dweb:/ipfs/QmQjkxUwoEJvsCrrvqAtKVhcx7DXQ3zm5xL6vXDQ4hvNj8"],"license":"MIT"},"contracts/interfaces/ISettlement.sol":{"keccak256":"0xac0c0831605d805279f99983e98ef7aab6d7d01e11ece1251399b86785be3964","urls":["bzz-raw://4adcc9d3c993c059905861fddc96d2f4cdf7913b894a7db2b06111a56da57045","dweb:/ipfs/QmUkrotB9APhKGJtBoDyZHWwtJacSLcCNrzdxv1roYgqFk"],"license":"MIT"},"node_modules/@openzeppelin/contracts/interfaces/IERC1363.sol":{"keccak256":"0xd5ea07362ab630a6a3dee4285a74cf2377044ca2e4be472755ad64d7c5d4b69d","urls":["bzz-raw://da5e832b40fc5c3145d3781e2e5fa60ac2052c9d08af7e300dc8ab80c4343100","dweb:/ipfs/QmTzf7N5ZUdh5raqtzbM11yexiUoLC9z3Ws632MCuycq1d"],"license":"MIT"},"node_modules/@openzeppelin/contracts/interfaces/IERC165.sol":{"keccak256":"0x0afcb7e740d1537b252cb2676f600465ce6938398569f09ba1b9ca240dde2dfc","urls":["bzz-raw://1c299900ac4ec268d4570ecef0d697a3013cd11a6eb74e295ee3fbc945056037","dweb:/ipfs/Qmab9owJoxcA7vJT5XNayCMaUR1qxqj1NDzzisduwaJMcZ"],"license":"MIT"},"node_modules/@openzeppelin/contracts/interfaces/IERC20.sol":{"keccak256":"0x1a6221315ce0307746c2c4827c125d821ee796c74a676787762f4778671d4f44","urls":["bzz-raw://1bb2332a7ee26dd0b0de9b7fe266749f54820c99ab6a3bcb6f7e6b751d47ee2d","dweb:/ipfs/QmcRWpaBeCYkhy68PR3B4AgD7asuQk7PwkWxrvJbZcikLF"],"license":"MIT"},"node_modules/@openzeppelin/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x74ed01eb66b923d0d0cfe3be84604ac04b76482a55f9dd655e1ef4d367f95bc2","urls":["bzz-raw://5282825a626cfe924e504274b864a652b0023591fa66f06a067b25b51ba9b303","dweb:/ipfs/QmeCfPykghhMc81VJTrHTC7sF6CRvaA1FXVq2pJhwYp1dV"],"license":"MIT"},"node_modules/@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol":{"keccak256":"0x982c5cb790ab941d1e04f807120a71709d4c313ba0bfc16006447ffbd27fbbd5","urls":["bzz-raw://8150ceb4ac947e8a442b2a9c017e01e880b2be2dd958f1fa9bc405f4c5a86508","dweb:/ipfs/QmbcBmFX66AY6Kbhnd5gx7zpkgqnUafo43XnmayAM7zVdB"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x8891738ffe910f0cf2da09566928589bf5d63f4524dd734fd9cedbac3274dd5c","urls":["bzz-raw://971f954442df5c2ef5b5ebf1eb245d7105d9fbacc7386ee5c796df1d45b21617","dweb:/ipfs/QmadRjHbkicwqwwh61raUEapaVEtaLMcYbQZWs9gUkgj3u"],"license":"MIT"}},"version":1},"id":3}