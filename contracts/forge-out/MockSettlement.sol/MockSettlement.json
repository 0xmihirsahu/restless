{"abi":[{"type":"function","name":"getSettleCallCount","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getSettleWithHookCallCount","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"settle","inputs":[{"name":"params","type":"tuple","internalType":"struct SettleParams","components":[{"name":"dealId","type":"uint256","internalType":"uint256"},{"name":"depositor","type":"address","internalType":"address"},{"name":"counterparty","type":"address","internalType":"address"},{"name":"principal","type":"uint256","internalType":"uint256"},{"name":"total","type":"uint256","internalType":"uint256"},{"name":"yieldSplitCounterparty","type":"uint8","internalType":"uint8"}]},{"name":"lifiData","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"settleCalls","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"dealId","type":"uint256","internalType":"uint256"},{"name":"depositor","type":"address","internalType":"address"},{"name":"counterparty","type":"address","internalType":"address"},{"name":"principal","type":"uint256","internalType":"uint256"},{"name":"total","type":"uint256","internalType":"uint256"},{"name":"yieldSplitCounterparty","type":"uint8","internalType":"uint8"},{"name":"lifiData","type":"bytes","internalType":"bytes"}],"stateMutability":"view"},{"type":"function","name":"settleWithHook","inputs":[{"name":"params","type":"tuple","internalType":"struct SettleParams","components":[{"name":"dealId","type":"uint256","internalType":"uint256"},{"name":"depositor","type":"address","internalType":"address"},{"name":"counterparty","type":"address","internalType":"address"},{"name":"principal","type":"uint256","internalType":"uint256"},{"name":"total","type":"uint256","internalType":"uint256"},{"name":"yieldSplitCounterparty","type":"uint8","internalType":"uint8"}]},{"name":"preferredToken","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"settleWithHookCalls","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"dealId","type":"uint256","internalType":"uint256"},{"name":"depositor","type":"address","internalType":"address"},{"name":"counterparty","type":"address","internalType":"address"},{"name":"principal","type":"uint256","internalType":"uint256"},{"name":"total","type":"uint256","internalType":"uint256"},{"name":"yieldSplitCounterparty","type":"uint8","internalType":"uint8"},{"name":"preferredToken","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"event","name":"DealSettled","inputs":[{"name":"dealId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"depositor","type":"address","indexed":true,"internalType":"address"},{"name":"counterparty","type":"address","indexed":true,"internalType":"address"},{"name":"counterpartyPayout","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"depositorPayout","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"EscrowUpdated","inputs":[{"name":"escrow","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"HookUpdated","inputs":[{"name":"hook","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"error","name":"HookNotConfigured","inputs":[]},{"type":"error","name":"InvalidEscrow","inputs":[]},{"type":"error","name":"InvalidPrincipal","inputs":[]},{"type":"error","name":"InvalidToken","inputs":[]},{"type":"error","name":"InvalidYieldSplit","inputs":[]},{"type":"error","name":"LiFiAmountMismatch","inputs":[]},{"type":"error","name":"LiFiBridgeFailed","inputs":[]},{"type":"error","name":"LiFiNotConfigured","inputs":[]},{"type":"error","name":"OnlyEscrow","inputs":[]},{"type":"error","name":"OnlyOwner","inputs":[]},{"type":"error","name":"TotalLessThanPrincipal","inputs":[]}],"bytecode":{"object":"0x6080604052348015600e575f80fd5b506108198061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610060575f3560e01c806326fa7f241461006457806342a7155c1461007b5780635f1c753a14610090578063850ad1ba146100975780638f9c8602146100aa578063cfc6bd8b146100d0575b5f80fd5b6001545b6040519081526020015b60405180910390f35b61008e610089366004610519565b610127565b005b5f54610068565b61008e6100a536600461054b565b610249565b6100bd6100b83660046105ca565b6103a5565b60405161007297969594939291906105e1565b6100e36100de3660046105ca565b61048b565b604080519788526001600160a01b039687166020890152948616948701949094526060860192909252608085015260ff1660a08401521660c082015260e001610072565b60016040518060e00160405280845f013581526020018460200160208101906101509190610656565b6001600160a01b0316815260200161016e6060860160408701610656565b6001600160a01b031681526060808601356020830152608086013560408301520161019f60c0860160a08701610676565b60ff90811682526001600160a01b039485166020928301528354600181810186555f9586529483902084516006909202019081559183015193820180549486166001600160a01b031995861617905560408301516002830180549187169190951617909355606082015160038201556080820151600482015560a08201516005909101805460c090930151909416610100026001600160a81b031990921692169190911717905550565b5f6040518060e00160405280855f013581526020018560200160208101906102719190610656565b6001600160a01b0316815260200161028f6060870160408801610656565b6001600160a01b03168152606080870135602083015260808701356040830152016102c060c0870160a08801610676565b60ff16815260200184848080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92018290525093909452505083546001818101865594825260209182902084516007909202019081559083015193810180546001600160a01b039586166001600160a01b03199182161790915560408401516002830180549190961691161790935550606081015160038301556080810151600483015560a081015160058301805460ff90921660ff1990921691909117905560c0810151909190600682019061039d9082610728565b505050505050565b5f81815481106103b3575f80fd5b5f91825260209091206007909102018054600182015460028301546003840154600485015460058601546006870180549698506001600160a01b039586169795909416959294919360ff9091169261040a906106aa565b80601f0160208091040260200160405190810160405280929190818152602001828054610436906106aa565b80156104815780601f1061045857610100808354040283529160200191610481565b820191905f5260205f20905b81548152906001019060200180831161046457829003601f168201915b5050505050905087565b6001818154811061049a575f80fd5b5f9182526020909120600690910201805460018201546002830154600384015460048501546005909501549395506001600160a01b039283169491831693909260ff82169161010090041687565b5f60c082840312156104f8575f80fd5b50919050565b80356001600160a01b0381168114610514575f80fd5b919050565b5f8060e0838503121561052a575f80fd5b61053484846104e8565b915061054260c084016104fe565b90509250929050565b5f805f60e0848603121561055d575f80fd5b61056785856104e8565b925060c084013567ffffffffffffffff811115610582575f80fd5b8401601f81018613610592575f80fd5b803567ffffffffffffffff8111156105a8575f80fd5b8660208284010111156105b9575f80fd5b939660209190910195509293505050565b5f602082840312156105da575f80fd5b5035919050565b87815260018060a01b038716602082015260018060a01b038616604082015284606082015283608082015260ff831660a082015260e060c08201525f82518060e0840152806020850161010085015e5f6101008285010152610100601f19601f83011684010191505098975050505050505050565b5f60208284031215610666575f80fd5b61066f826104fe565b9392505050565b5f60208284031215610686575f80fd5b813560ff8116811461066f575f80fd5b634e487b7160e01b5f52604160045260245ffd5b600181811c908216806106be57607f821691505b6020821081036104f857634e487b7160e01b5f52602260045260245ffd5b601f82111561072357805f5260205f20601f840160051c810160208510156107015750805b601f840160051c820191505b81811015610720575f815560010161070d565b50505b505050565b815167ffffffffffffffff81111561074257610742610696565b6107568161075084546106aa565b846106dc565b6020601f821160018114610788575f83156107715750848201515b5f19600385901b1c1916600184901b178455610720565b5f84815260208120601f198516915b828110156107b75787850151825560209485019460019092019101610797565b50848210156107d457868401515f19600387901b60f8161c191681555b50505050600190811b0190555056fea26469706673582212202602464b0badec64f1cecc6a008268e8c2f393ae83f35ab6cd85f0b5f0dd448864736f6c634300081a0033","sourceMap":"205:1807:12:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f80fd5b5060043610610060575f3560e01c806326fa7f241461006457806342a7155c1461007b5780635f1c753a14610090578063850ad1ba146100975780638f9c8602146100aa578063cfc6bd8b146100d0575b5f80fd5b6001545b6040519081526020015b60405180910390f35b61008e610089366004610519565b610127565b005b5f54610068565b61008e6100a536600461054b565b610249565b6100bd6100b83660046105ca565b6103a5565b60405161007297969594939291906105e1565b6100e36100de3660046105ca565b61048b565b604080519788526001600160a01b039687166020890152948616948701949094526060860192909252608085015260ff1660a08401521660c082015260e001610072565b60016040518060e00160405280845f013581526020018460200160208101906101509190610656565b6001600160a01b0316815260200161016e6060860160408701610656565b6001600160a01b031681526060808601356020830152608086013560408301520161019f60c0860160a08701610676565b60ff90811682526001600160a01b039485166020928301528354600181810186555f9586529483902084516006909202019081559183015193820180549486166001600160a01b031995861617905560408301516002830180549187169190951617909355606082015160038201556080820151600482015560a08201516005909101805460c090930151909416610100026001600160a81b031990921692169190911717905550565b5f6040518060e00160405280855f013581526020018560200160208101906102719190610656565b6001600160a01b0316815260200161028f6060870160408801610656565b6001600160a01b03168152606080870135602083015260808701356040830152016102c060c0870160a08801610676565b60ff16815260200184848080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92018290525093909452505083546001818101865594825260209182902084516007909202019081559083015193810180546001600160a01b039586166001600160a01b03199182161790915560408401516002830180549190961691161790935550606081015160038301556080810151600483015560a081015160058301805460ff90921660ff1990921691909117905560c0810151909190600682019061039d9082610728565b505050505050565b5f81815481106103b3575f80fd5b5f91825260209091206007909102018054600182015460028301546003840154600485015460058601546006870180549698506001600160a01b039586169795909416959294919360ff9091169261040a906106aa565b80601f0160208091040260200160405190810160405280929190818152602001828054610436906106aa565b80156104815780601f1061045857610100808354040283529160200191610481565b820191905f5260205f20905b81548152906001019060200180831161046457829003601f168201915b5050505050905087565b6001818154811061049a575f80fd5b5f9182526020909120600690910201805460018201546002830154600384015460048501546005909501549395506001600160a01b039283169491831693909260ff82169161010090041687565b5f60c082840312156104f8575f80fd5b50919050565b80356001600160a01b0381168114610514575f80fd5b919050565b5f8060e0838503121561052a575f80fd5b61053484846104e8565b915061054260c084016104fe565b90509250929050565b5f805f60e0848603121561055d575f80fd5b61056785856104e8565b925060c084013567ffffffffffffffff811115610582575f80fd5b8401601f81018613610592575f80fd5b803567ffffffffffffffff8111156105a8575f80fd5b8660208284010111156105b9575f80fd5b939660209190910195509293505050565b5f602082840312156105da575f80fd5b5035919050565b87815260018060a01b038716602082015260018060a01b038616604082015284606082015283608082015260ff831660a082015260e060c08201525f82518060e0840152806020850161010085015e5f6101008285010152610100601f19601f83011684010191505098975050505050505050565b5f60208284031215610666575f80fd5b61066f826104fe565b9392505050565b5f60208284031215610686575f80fd5b813560ff8116811461066f575f80fd5b634e487b7160e01b5f52604160045260245ffd5b600181811c908216806106be57607f821691505b6020821081036104f857634e487b7160e01b5f52602260045260245ffd5b601f82111561072357805f5260205f20601f840160051c810160208510156107015750805b601f840160051c820191505b81811015610720575f815560010161070d565b50505b505050565b815167ffffffffffffffff81111561074257610742610696565b6107568161075084546106aa565b846106dc565b6020601f821160018114610788575f83156107715750848201515b5f19600385901b1c1916600184901b178455610720565b5f84815260208120601f198516915b828110156107b75787850151825560209485019460019092019101610797565b50848210156107d457868401515f19600387901b60f8161c191681555b50505050600190811b0190555056fea26469706673582212202602464b0badec64f1cecc6a008268e8c2f393ae83f35ab6cd85f0b5f0dd448864736f6c634300081a0033","sourceMap":"205:1807:12:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1890:120;1977:19;:26;1890:120;;;160:25:133;;;148:2;133:18;1890:120:12;;;;;;;;1275:499;;;;;;:::i;:::-;;:::i;:::-;;1780:104;1833:7;1859:18;1780:104;;805:464;;;;;;:::i;:::-;;:::i;714:31::-;;;;;;:::i;:::-;;:::i;:::-;;;;;;;;;;;;;:::i;751:47::-;;;;;;:::i;:::-;;:::i;:::-;;;;3012:25:133;;;-1:-1:-1;;;;;3073:32:133;;;3068:2;3053:18;;3046:60;3142:32;;;3122:18;;;3115:60;;;;3206:2;3191:18;;3184:34;;;;3249:3;3234:19;;3227:35;3311:4;3299:17;3093:3;3278:19;;3271:46;3354:32;3348:3;3333:19;;3326:61;2999:3;2984:19;751:47:12;2701:692:133;1275:499:12;1403:19;1428:338;;;;;;;;1469:6;:13;;;1428:338;;;;1507:6;:16;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;1428:338:12;;;;;1551:19;;;;;;;;:::i;:::-;-1:-1:-1;;;;;1428:338:12;;;1595:16;;;;;1428:338;;;;1632:12;;;;1428:338;;;;;1682:29;;;;;;;;:::i;:::-;1428:338;;;;;;-1:-1:-1;;;;;1428:338:12;;;;;;;;1403:364;;;;;;;;-1:-1:-1;1403:364:12;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;1403:364:12;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;1403:364:12;;;;;;;;;;;;-1:-1:-1;1275:499:12:o;805:464::-;926:11;943:318;;;;;;;;976:6;:13;;;943:318;;;;1014:6;:16;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;943:318:12;;;;;1058:19;;;;;;;;:::i;:::-;-1:-1:-1;;;;;943:318:12;;;1102:16;;;;;943:318;;;;1139:12;;;;943:318;;;;;1189:29;;;;;;;;:::i;:::-;943:318;;;;;;1242:8;;943:318;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;943:318:12;;;;-1:-1:-1;;926:336:12;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;926:336:12;;;-1:-1:-1;;;;;;926:336:12;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;926:336:12;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;926:336:12;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;805:464;;;:::o;714:31::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;714:31:12;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;751:47::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;751:47:12;;;;;;;;;;;;;;;;;;;:::o;196:161:133:-;261:5;306:3;297:6;292:3;288:16;284:26;281:46;;;323:1;320;313:12;281:46;-1:-1:-1;345:6:133;196:161;-1:-1:-1;196:161:133:o;362:173::-;430:20;;-1:-1:-1;;;;;479:31:133;;469:42;;459:70;;525:1;522;515:12;459:70;362:173;;;:::o;540:324::-;640:6;648;701:3;689:9;680:7;676:23;672:33;669:53;;;718:1;715;708:12;669:53;741:59;792:7;781:9;741:59;:::i;:::-;731:69;;819:39;853:3;842:9;838:19;819:39;:::i;:::-;809:49;;540:324;;;;;:::o;869:728::-;980:6;988;996;1049:3;1037:9;1028:7;1024:23;1020:33;1017:53;;;1066:1;1063;1056:12;1017:53;1089:59;1140:7;1129:9;1089:59;:::i;:::-;1079:69;;1199:3;1188:9;1184:19;1171:33;1227:18;1219:6;1216:30;1213:50;;;1259:1;1256;1249:12;1213:50;1282:22;;1335:4;1327:13;;1323:27;-1:-1:-1;1313:55:133;;1364:1;1361;1354:12;1313:55;1404:2;1391:16;1430:18;1422:6;1419:30;1416:50;;;1462:1;1459;1452:12;1416:50;1509:7;1502:4;1493:6;1489:2;1485:15;1481:26;1478:39;1475:59;;;1530:1;1527;1520:12;1475:59;869:728;;1561:4;1553:13;;;;;-1:-1:-1;1585:6:133;;-1:-1:-1;;;869:728:133:o;1602:180::-;1661:6;1714:2;1702:9;1693:7;1689:23;1685:32;1682:52;;;1730:1;1727;1720:12;1682:52;-1:-1:-1;1753:23:133;;1602:180;-1:-1:-1;1602:180:133:o;1787:909::-;2098:6;2087:9;2080:25;2170:1;2166;2161:3;2157:11;2153:19;2145:6;2141:32;2136:2;2125:9;2121:18;2114:60;2239:1;2235;2230:3;2226:11;2222:19;2214:6;2210:32;2205:2;2194:9;2190:18;2183:60;2279:6;2274:2;2263:9;2259:18;2252:34;2323:6;2317:3;2306:9;2302:19;2295:35;2379:4;2371:6;2367:17;2361:3;2350:9;2346:19;2339:46;2422:3;2416;2405:9;2401:19;2394:32;2061:4;2455:6;2449:13;2499:6;2493:3;2482:9;2478:19;2471:35;2559:6;2554:2;2546:6;2542:15;2536:3;2525:9;2521:19;2515:51;2616:1;2610:3;2601:6;2590:9;2586:22;2582:32;2575:43;2686:3;2679:2;2675:7;2670:2;2662:6;2658:15;2654:29;2643:9;2639:45;2635:55;2627:63;;;1787:909;;;;;;;;;;:::o;3398:186::-;3457:6;3510:2;3498:9;3489:7;3485:23;3481:32;3478:52;;;3526:1;3523;3516:12;3478:52;3549:29;3568:9;3549:29;:::i;:::-;3539:39;3398:186;-1:-1:-1;;;3398:186:133:o;3589:269::-;3646:6;3699:2;3687:9;3678:7;3674:23;3670:32;3667:52;;;3715:1;3712;3705:12;3667:52;3754:9;3741:23;3804:4;3797:5;3793:16;3786:5;3783:27;3773:55;;3824:1;3821;3814:12;3863:127;3924:10;3919:3;3915:20;3912:1;3905:31;3955:4;3952:1;3945:15;3979:4;3976:1;3969:15;3995:380;4074:1;4070:12;;;;4117;;;4138:61;;4192:4;4184:6;4180:17;4170:27;;4138:61;4245:2;4237:6;4234:14;4214:18;4211:38;4208:161;;4291:10;4286:3;4282:20;4279:1;4272:31;4326:4;4323:1;4316:15;4354:4;4351:1;4344:15;4505:517;4606:2;4601:3;4598:11;4595:421;;;4642:5;4639:1;4632:16;4686:4;4683:1;4673:18;4756:2;4744:10;4740:19;4737:1;4733:27;4727:4;4723:38;4792:4;4780:10;4777:20;4774:47;;;-1:-1:-1;4815:4:133;4774:47;4870:2;4865:3;4861:12;4858:1;4854:20;4848:4;4844:31;4834:41;;4925:81;4943:2;4936:5;4933:13;4925:81;;;5002:1;4988:16;;4969:1;4958:13;4925:81;;;4929:3;;4595:421;4505:517;;;:::o;5198:1295::-;5322:3;5316:10;5349:18;5341:6;5338:30;5335:56;;;5371:18;;:::i;:::-;5400:96;5489:6;5449:38;5481:4;5475:11;5449:38;:::i;:::-;5443:4;5400:96;:::i;:::-;5545:4;5576:2;5565:14;;5593:1;5588:648;;;;6280:1;6297:6;6294:89;;;-1:-1:-1;6349:19:133;;;6343:26;6294:89;-1:-1:-1;;5155:1:133;5151:11;;;5147:24;5143:29;5133:40;5179:1;5175:11;;;5130:57;6396:81;;5558:929;;5588:648;4452:1;4445:14;;;4489:4;4476:18;;-1:-1:-1;;5624:20:133;;;5741:222;5755:7;5752:1;5749:14;5741:222;;;5837:19;;;5831:26;5816:42;;5944:4;5929:20;;;;5897:1;5885:14;;;;5771:12;5741:222;;;5745:3;5991:6;5982:7;5979:19;5976:201;;;6052:19;;;6046:26;-1:-1:-1;;6135:1:133;6131:14;;;6147:3;6127:24;6123:37;6119:42;6104:58;6089:74;;5976:201;-1:-1:-1;;;;6223:1:133;6207:14;;;6203:22;6190:36;;-1:-1:-1;5198:1295:133:o","linkReferences":{}},"methodIdentifiers":{"getSettleCallCount()":"5f1c753a","getSettleWithHookCallCount()":"26fa7f24","settle((uint256,address,address,uint256,uint256,uint8),bytes)":"850ad1ba","settleCalls(uint256)":"8f9c8602","settleWithHook((uint256,address,address,uint256,uint256,uint8),address)":"42a7155c","settleWithHookCalls(uint256)":"cfc6bd8b"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"HookNotConfigured\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidEscrow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidPrincipal\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidToken\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidYieldSplit\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LiFiAmountMismatch\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LiFiBridgeFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LiFiNotConfigured\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OnlyEscrow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OnlyOwner\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TotalLessThanPrincipal\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"dealId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"depositor\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"counterparty\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"counterpartyPayout\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"depositorPayout\",\"type\":\"uint256\"}],\"name\":\"DealSettled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"escrow\",\"type\":\"address\"}],\"name\":\"EscrowUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"hook\",\"type\":\"address\"}],\"name\":\"HookUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"getSettleCallCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getSettleWithHookCallCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"dealId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"depositor\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"counterparty\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"principal\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"total\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"yieldSplitCounterparty\",\"type\":\"uint8\"}],\"internalType\":\"struct SettleParams\",\"name\":\"params\",\"type\":\"tuple\"},{\"internalType\":\"bytes\",\"name\":\"lifiData\",\"type\":\"bytes\"}],\"name\":\"settle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"settleCalls\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"dealId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"depositor\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"counterparty\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"principal\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"total\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"yieldSplitCounterparty\",\"type\":\"uint8\"},{\"internalType\":\"bytes\",\"name\":\"lifiData\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"dealId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"depositor\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"counterparty\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"principal\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"total\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"yieldSplitCounterparty\",\"type\":\"uint8\"}],\"internalType\":\"struct SettleParams\",\"name\":\"params\",\"type\":\"tuple\"},{\"internalType\":\"address\",\"name\":\"preferredToken\",\"type\":\"address\"}],\"name\":\"settleWithHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"settleWithHookCalls\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"dealId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"depositor\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"counterparty\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"principal\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"total\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"yieldSplitCounterparty\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"preferredToken\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"settle((uint256,address,address,uint256,uint256,uint8),bytes)\":{\"params\":{\"lifiData\":\"Encoded LI.FI cross-chain route data (empty for same-chain)\",\"params\":\"The settlement parameters\"}},\"settleWithHook((uint256,address,address,uint256,uint256,uint8),address)\":{\"params\":{\"params\":\"The settlement parameters\",\"preferredToken\":\"The token counterparty wants their yield in\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"settle((uint256,address,address,uint256,uint256,uint8),bytes)\":{\"notice\":\"Settle a deal: split yield and pay out parties\"},\"settleWithHook((uint256,address,address,uint256,uint256,uint8),address)\":{\"notice\":\"Settle a deal with yield swapped via hook to counterparty's preferred token\"}},\"notice\":\"Mock settlement for testing \\u2014 just records calls\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/mocks/MockSettlement.sol\":\"MockSettlement\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@aave/=node_modules/@aave/\",\":@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/\",\":@uniswap/v4-core/=node_modules/@uniswap/v4-core/\",\":@uniswap/v4-periphery/=node_modules/@uniswap/v4-periphery/\",\":forge-std/=node_modules/forge-std/src/\",\":hardhat/=node_modules/hardhat/\",\":solmate/=node_modules/solmate/\"]},\"sources\":{\"contracts/Types.sol\":{\"keccak256\":\"0xd62d0b6fb7c0d8a026194909ed1249d12984fc05a46aff02b95ac376b6b0501d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b99b196dda404bff88259577cea30b4b27ec29d04ae4850d8f90bc0777f10871\",\"dweb:/ipfs/QmduUhqdKGgPyfrp68CPPcnY5ociAwzwACvWeGTS7544k5\"]},\"contracts/interfaces/ISettlement.sol\":{\"keccak256\":\"0xf41cb969a3a3401aa95d1d5871f73800352b8035047cccc937001c4eae8d35e2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a687fcc9977e66db1680e3e1876ca5189fae9f5efc6f714a521b91663870a036\",\"dweb:/ipfs/QmQBD6vBPvLqQXLegNTDYnhFKpjEqwHZArZHqRL6DJmpnh\"]},\"contracts/mocks/MockSettlement.sol\":{\"keccak256\":\"0x63b22f4c5040394e6880720fb1526f6deafb819aa70b3df3844ff1d8a59ee273\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8824e9a7c7ce0f389de03fb18f7ba08c66d12b647fefb1fc5fad4293cd07c2f0\",\"dweb:/ipfs/QmebRifC4G5x69bSCw8fb4s3ww9VPShsLDNU5L5a8GpYFT\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"HookNotConfigured"},{"inputs":[],"type":"error","name":"InvalidEscrow"},{"inputs":[],"type":"error","name":"InvalidPrincipal"},{"inputs":[],"type":"error","name":"InvalidToken"},{"inputs":[],"type":"error","name":"InvalidYieldSplit"},{"inputs":[],"type":"error","name":"LiFiAmountMismatch"},{"inputs":[],"type":"error","name":"LiFiBridgeFailed"},{"inputs":[],"type":"error","name":"LiFiNotConfigured"},{"inputs":[],"type":"error","name":"OnlyEscrow"},{"inputs":[],"type":"error","name":"OnlyOwner"},{"inputs":[],"type":"error","name":"TotalLessThanPrincipal"},{"inputs":[{"internalType":"uint256","name":"dealId","type":"uint256","indexed":true},{"internalType":"address","name":"depositor","type":"address","indexed":true},{"internalType":"address","name":"counterparty","type":"address","indexed":true},{"internalType":"uint256","name":"counterpartyPayout","type":"uint256","indexed":false},{"internalType":"uint256","name":"depositorPayout","type":"uint256","indexed":false}],"type":"event","name":"DealSettled","anonymous":false},{"inputs":[{"internalType":"address","name":"escrow","type":"address","indexed":true}],"type":"event","name":"EscrowUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"hook","type":"address","indexed":true}],"type":"event","name":"HookUpdated","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"getSettleCallCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getSettleWithHookCallCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"struct SettleParams","name":"params","type":"tuple","components":[{"internalType":"uint256","name":"dealId","type":"uint256"},{"internalType":"address","name":"depositor","type":"address"},{"internalType":"address","name":"counterparty","type":"address"},{"internalType":"uint256","name":"principal","type":"uint256"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"uint8","name":"yieldSplitCounterparty","type":"uint8"}]},{"internalType":"bytes","name":"lifiData","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"settle"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"settleCalls","outputs":[{"internalType":"uint256","name":"dealId","type":"uint256"},{"internalType":"address","name":"depositor","type":"address"},{"internalType":"address","name":"counterparty","type":"address"},{"internalType":"uint256","name":"principal","type":"uint256"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"uint8","name":"yieldSplitCounterparty","type":"uint8"},{"internalType":"bytes","name":"lifiData","type":"bytes"}]},{"inputs":[{"internalType":"struct SettleParams","name":"params","type":"tuple","components":[{"internalType":"uint256","name":"dealId","type":"uint256"},{"internalType":"address","name":"depositor","type":"address"},{"internalType":"address","name":"counterparty","type":"address"},{"internalType":"uint256","name":"principal","type":"uint256"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"uint8","name":"yieldSplitCounterparty","type":"uint8"}]},{"internalType":"address","name":"preferredToken","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"settleWithHook"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"settleWithHookCalls","outputs":[{"internalType":"uint256","name":"dealId","type":"uint256"},{"internalType":"address","name":"depositor","type":"address"},{"internalType":"address","name":"counterparty","type":"address"},{"internalType":"uint256","name":"principal","type":"uint256"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"uint8","name":"yieldSplitCounterparty","type":"uint8"},{"internalType":"address","name":"preferredToken","type":"address"}]}],"devdoc":{"kind":"dev","methods":{"settle((uint256,address,address,uint256,uint256,uint8),bytes)":{"params":{"lifiData":"Encoded LI.FI cross-chain route data (empty for same-chain)","params":"The settlement parameters"}},"settleWithHook((uint256,address,address,uint256,uint256,uint8),address)":{"params":{"params":"The settlement parameters","preferredToken":"The token counterparty wants their yield in"}}},"version":1},"userdoc":{"kind":"user","methods":{"settle((uint256,address,address,uint256,uint256,uint8),bytes)":{"notice":"Settle a deal: split yield and pay out parties"},"settleWithHook((uint256,address,address,uint256,uint256,uint8),address)":{"notice":"Settle a deal with yield swapped via hook to counterparty's preferred token"}},"version":1}},"settings":{"remappings":["@aave/=node_modules/@aave/","@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/","@uniswap/v4-core/=node_modules/@uniswap/v4-core/","@uniswap/v4-periphery/=node_modules/@uniswap/v4-periphery/","forge-std/=node_modules/forge-std/src/","hardhat/=node_modules/hardhat/","solmate/=node_modules/solmate/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/mocks/MockSettlement.sol":"MockSettlement"},"evmVersion":"cancun","libraries":{}},"sources":{"contracts/Types.sol":{"keccak256":"0xd62d0b6fb7c0d8a026194909ed1249d12984fc05a46aff02b95ac376b6b0501d","urls":["bzz-raw://b99b196dda404bff88259577cea30b4b27ec29d04ae4850d8f90bc0777f10871","dweb:/ipfs/QmduUhqdKGgPyfrp68CPPcnY5ociAwzwACvWeGTS7544k5"],"license":"MIT"},"contracts/interfaces/ISettlement.sol":{"keccak256":"0xf41cb969a3a3401aa95d1d5871f73800352b8035047cccc937001c4eae8d35e2","urls":["bzz-raw://a687fcc9977e66db1680e3e1876ca5189fae9f5efc6f714a521b91663870a036","dweb:/ipfs/QmQBD6vBPvLqQXLegNTDYnhFKpjEqwHZArZHqRL6DJmpnh"],"license":"MIT"},"contracts/mocks/MockSettlement.sol":{"keccak256":"0x63b22f4c5040394e6880720fb1526f6deafb819aa70b3df3844ff1d8a59ee273","urls":["bzz-raw://8824e9a7c7ce0f389de03fb18f7ba08c66d12b647fefb1fc5fad4293cd07c2f0","dweb:/ipfs/QmebRifC4G5x69bSCw8fb4s3ww9VPShsLDNU5L5a8GpYFT"],"license":"MIT"}},"version":1},"id":12}