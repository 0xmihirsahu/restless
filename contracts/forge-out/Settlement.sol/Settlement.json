{"abi":[{"type":"constructor","inputs":[{"name":"_token","type":"address","internalType":"address"},{"name":"_lifiDiamond","type":"address","internalType":"address"},{"name":"_hook","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"hook","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IRestlessSettlementHook"}],"stateMutability":"view"},{"type":"function","name":"lifiDiamond","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"setHook","inputs":[{"name":"_hook","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"settle","inputs":[{"name":"dealId","type":"uint256","internalType":"uint256"},{"name":"depositor","type":"address","internalType":"address"},{"name":"counterparty","type":"address","internalType":"address"},{"name":"principal","type":"uint256","internalType":"uint256"},{"name":"total","type":"uint256","internalType":"uint256"},{"name":"yieldSplitCounterparty","type":"uint8","internalType":"uint8"},{"name":"lifiData","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"settleWithHook","inputs":[{"name":"dealId","type":"uint256","internalType":"uint256"},{"name":"depositor","type":"address","internalType":"address"},{"name":"counterparty","type":"address","internalType":"address"},{"name":"principal","type":"uint256","internalType":"uint256"},{"name":"total","type":"uint256","internalType":"uint256"},{"name":"yieldSplitCounterparty","type":"uint8","internalType":"uint8"},{"name":"preferredToken","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"token","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IERC20"}],"stateMutability":"view"},{"type":"event","name":"DealSettled","inputs":[{"name":"dealId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"depositor","type":"address","indexed":true,"internalType":"address"},{"name":"counterparty","type":"address","indexed":true,"internalType":"address"},{"name":"counterpartyPayout","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"depositorPayout","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"HookUpdated","inputs":[{"name":"hook","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"error","name":"SafeERC20FailedOperation","inputs":[{"name":"token","type":"address","internalType":"address"}]}],"bytecode":{"object":"0x60e060405234801561000f575f80fd5b506040516110dc3803806110dc83398101604081905261002e916100d5565b6001600160a01b0383166100785760405162461bcd60e51b815260206004820152600d60248201526c24b73b30b634b2103a37b5b2b760991b604482015260640160405180910390fd5b6001600160a01b0380841660805282811660a0523360c0528116156100b2575f80546001600160a01b0319166001600160a01b0383161790555b505050610115565b80516001600160a01b03811681146100d0575f80fd5b919050565b5f805f606084860312156100e7575f80fd5b6100f0846100ba565b92506100fe602085016100ba565b915061010c604085016100ba565b90509250925092565b60805160a05160c051610f2e6101ae5f395f8181610100015261016701525f81816083015281816106ef015281816107f90152818161089b0152610a4901525f818161013a01528181610344015281816103b50152818161040a0152818161050701528181610675015281816107710152818161082b0152818161096f01528181610a7701528181610af70152610b310152610f2e5ff3fe608060405234801561000f575f80fd5b506004361061007a575f3560e01c80637f5a7c7b116100585780637f5a7c7b146100e95780638da5cb5b146100fb578063b310d9c614610122578063fc0c546a14610135575f80fd5b80632bd16c8f1461007e5780633dfd3873146100c15780635ab9a38c146100d6575b5f80fd5b6100a57f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200160405180910390f35b6100d46100cf366004610ce8565b61015c565b005b6100d46100e4366004610d18565b61020d565b5f546100a5906001600160a01b031681565b6100a57f000000000000000000000000000000000000000000000000000000000000000081565b6100d4610130366004610d84565b61058b565b6100a57f000000000000000000000000000000000000000000000000000000000000000081565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146101c65760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b60448201526064015b60405180910390fd5b5f80546001600160a01b0319166001600160a01b038316908117825560405190917fe816c20840d998c8612f9b624b91687a80510eeb293cb09f7637379f6d73342d91a250565b5f84116102545760405162461bcd60e51b815260206004820152601560248201527405072696e636970616c206d757374206265203e203605c1b60448201526064016101bd565b838310156102a05760405162461bcd60e51b8152602060048201526019602482015278151bdd185b081b195cdcc81d1a185b881c1c9a5b98da5c185b603a1b60448201526064016101bd565b60648260ff1611156102ea5760405162461bcd60e51b8152602060048201526013602482015272125b9d985b1a59081e5a595b19081cdc1b1a5d606a1b60448201526064016101bd565b5f546001600160a01b03166103375760405162461bcd60e51b8152602060048201526013602482015272121bdbdac81b9bdd0818dbdb999a59dd5c9959606a1b60448201526064016101bd565b61036c6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333086610bbe565b5f6103778585610e51565b90505f606461038960ff861684610e6a565b6103939190610e81565b90505f6103a08284610e51565b905086156103dc576103dc6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168989610c2b565b81156104f4575f5460405163095ea7b360e01b81526001600160a01b039182166004820152602481018490527f00000000000000000000000000000000000000000000000000000000000000009091169063095ea7b3906044016020604051808303815f875af1158015610452573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104769190610ea0565b505f546040516329d0820b60e01b81526001600160a01b038a81166004830152602482018590528681166044830152909116906329d0820b906064016020604051808303815f875af11580156104ce573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104f29190610ebf565b505b801561052e5761052e6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168a83610c2b565b6001600160a01b03808916908a168b7f38d1d351aaed4d042e96c9e1ebf794cafeb9ec533318564d969b5335b2d2c321610568868c610ed6565b60408051918252602082018790520160405180910390a450505050505050505050565b5f85116105d25760405162461bcd60e51b815260206004820152601560248201527405072696e636970616c206d757374206265203e203605c1b60448201526064016101bd565b8484101561061e5760405162461bcd60e51b8152602060048201526019602482015278151bdd185b081b195cdcc81d1a185b881c1c9a5b98da5c185b603a1b60448201526064016101bd565b60648360ff1611156106685760405162461bcd60e51b8152602060048201526013602482015272125b9d985b1a59081e5a595b19081cdc1b1a5d606a1b60448201526064016101bd565b61069d6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333087610bbe565b5f6106a88686610e51565b90505f60646106ba60ff871684610e6a565b6106c49190610e81565b90505f6106d18284610e51565b90505f6106de838a610ed6565b9050818115610b1e578515610aea577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031661075a5760405162461bcd60e51b815260206004820152601460248201527313124b9192481b9bdd0818dbdb999a59dd5c995960621b60448201526064016101bd565b6040516370a0823160e01b81523060048201525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa1580156107be573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107e29190610ebf565b60405163095ea7b360e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166004830152602482018690529192507f00000000000000000000000000000000000000000000000000000000000000009091169063095ea7b3906044016020604051808303815f875af1158015610873573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108979190610ea0565b505f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031689896040516108d3929190610ee9565b5f604051808303815f865af19150503d805f811461090c576040519150601f19603f3d011682016040523d82523d5f602084013e610911565b606091505b50509050806109585760405162461bcd60e51b815260206004820152601360248201527213124b919248189c9a5919d94819985a5b1959606a1b60448201526064016101bd565b6040516370a0823160e01b81523060048201525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa1580156109bc573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906109e09190610ebf565b9050846109ed8285610e51565b14610a325760405162461bcd60e51b8152602060048201526015602482015274098925c8c9240c2dadeeadce840dad2e6dac2e8c6d605b1b60448201526064016101bd565b60405163095ea7b360e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000811660048301525f60248301527f0000000000000000000000000000000000000000000000000000000000000000169063095ea7b3906044016020604051808303815f875af1158015610abd573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610ae19190610ea0565b50505050610b1e565b610b1e6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168c84610c2b565b8015610b5857610b586001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168d83610c2b565b8a6001600160a01b03168c6001600160a01b03168e7f38d1d351aaed4d042e96c9e1ebf794cafeb9ec533318564d969b5335b2d2c3218585604051610ba7929190918252602082015260400190565b60405180910390a450505050505050505050505050565b6040516001600160a01b038481166024830152838116604483015260648201839052610c259186918216906323b872dd906084015b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050610c61565b50505050565b6040516001600160a01b03838116602483015260448201839052610c5c91859182169063a9059cbb90606401610bf3565b505050565b5f8060205f8451602086015f885af180610c80576040513d5f823e3d81fd5b50505f513d91508115610c97578060011415610ca4565b6001600160a01b0384163b155b15610c2557604051635274afe760e01b81526001600160a01b03851660048201526024016101bd565b80356001600160a01b0381168114610ce3575f80fd5b919050565b5f60208284031215610cf8575f80fd5b610d0182610ccd565b9392505050565b803560ff81168114610ce3575f80fd5b5f805f805f805f60e0888a031215610d2e575f80fd5b87359650610d3e60208901610ccd565b9550610d4c60408901610ccd565b94506060880135935060808801359250610d6860a08901610d08565b9150610d7660c08901610ccd565b905092959891949750929550565b5f805f805f805f8060e0898b031215610d9b575f80fd5b88359750610dab60208a01610ccd565b9650610db960408a01610ccd565b95506060890135945060808901359350610dd560a08a01610d08565b925060c089013567ffffffffffffffff811115610df0575f80fd5b8901601f81018b13610e00575f80fd5b803567ffffffffffffffff811115610e16575f80fd5b8b6020828401011115610e27575f80fd5b989b979a50959850939692959194602001935050565b634e487b7160e01b5f52601160045260245ffd5b81810381811115610e6457610e64610e3d565b92915050565b8082028115828204841417610e6457610e64610e3d565b5f82610e9b57634e487b7160e01b5f52601260045260245ffd5b500490565b5f60208284031215610eb0575f80fd5b81518015158114610d01575f80fd5b5f60208284031215610ecf575f80fd5b5051919050565b80820180821115610e6457610e64610e3d565b818382375f910190815291905056fea26469706673582212201fb94039277a7941d2dcaef438cda4b40d60d58899ec4ec7fff46570d16fc8ec64736f6c634300081a0033","sourceMap":"480:5217:3:-:0;;;1056:322;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;1139:20:3;;1131:46;;;;-1:-1:-1;;;1131:46:3;;781:2:129;1131:46:3;;;763:21:129;820:2;800:18;;;793:30;-1:-1:-1;;;839:18:129;;;832:43;892:18;;1131:46:3;;;;;;;;-1:-1:-1;;;;;1188:22:3;;;;;1220:26;;;;;1264:10;1256:18;;1289:19;;;1285:87;;1324:4;:37;;-1:-1:-1;;;;;;1324:37:3;-1:-1:-1;;;;;1324:37:3;;;;;1285:87;1056:322;;;480:5217;;14:177:129;93:13;;-1:-1:-1;;;;;135:31:129;;125:42;;115:70;;181:1;178;171:12;115:70;14:177;;;:::o;196:378::-;284:6;292;300;353:2;341:9;332:7;328:23;324:32;321:52;;;369:1;366;359:12;321:52;392:40;422:9;392:40;:::i;:::-;382:50;;451:49;496:2;485:9;481:18;451:49;:::i;:::-;441:59;;519:49;564:2;553:9;549:18;519:49;:::i;:::-;509:59;;196:378;;;;;:::o;579:337::-;480:5217:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f80fd5b506004361061007a575f3560e01c80637f5a7c7b116100585780637f5a7c7b146100e95780638da5cb5b146100fb578063b310d9c614610122578063fc0c546a14610135575f80fd5b80632bd16c8f1461007e5780633dfd3873146100c15780635ab9a38c146100d6575b5f80fd5b6100a57f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200160405180910390f35b6100d46100cf366004610ce8565b61015c565b005b6100d46100e4366004610d18565b61020d565b5f546100a5906001600160a01b031681565b6100a57f000000000000000000000000000000000000000000000000000000000000000081565b6100d4610130366004610d84565b61058b565b6100a57f000000000000000000000000000000000000000000000000000000000000000081565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146101c65760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b60448201526064015b60405180910390fd5b5f80546001600160a01b0319166001600160a01b038316908117825560405190917fe816c20840d998c8612f9b624b91687a80510eeb293cb09f7637379f6d73342d91a250565b5f84116102545760405162461bcd60e51b815260206004820152601560248201527405072696e636970616c206d757374206265203e203605c1b60448201526064016101bd565b838310156102a05760405162461bcd60e51b8152602060048201526019602482015278151bdd185b081b195cdcc81d1a185b881c1c9a5b98da5c185b603a1b60448201526064016101bd565b60648260ff1611156102ea5760405162461bcd60e51b8152602060048201526013602482015272125b9d985b1a59081e5a595b19081cdc1b1a5d606a1b60448201526064016101bd565b5f546001600160a01b03166103375760405162461bcd60e51b8152602060048201526013602482015272121bdbdac81b9bdd0818dbdb999a59dd5c9959606a1b60448201526064016101bd565b61036c6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333086610bbe565b5f6103778585610e51565b90505f606461038960ff861684610e6a565b6103939190610e81565b90505f6103a08284610e51565b905086156103dc576103dc6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168989610c2b565b81156104f4575f5460405163095ea7b360e01b81526001600160a01b039182166004820152602481018490527f00000000000000000000000000000000000000000000000000000000000000009091169063095ea7b3906044016020604051808303815f875af1158015610452573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104769190610ea0565b505f546040516329d0820b60e01b81526001600160a01b038a81166004830152602482018590528681166044830152909116906329d0820b906064016020604051808303815f875af11580156104ce573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104f29190610ebf565b505b801561052e5761052e6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168a83610c2b565b6001600160a01b03808916908a168b7f38d1d351aaed4d042e96c9e1ebf794cafeb9ec533318564d969b5335b2d2c321610568868c610ed6565b60408051918252602082018790520160405180910390a450505050505050505050565b5f85116105d25760405162461bcd60e51b815260206004820152601560248201527405072696e636970616c206d757374206265203e203605c1b60448201526064016101bd565b8484101561061e5760405162461bcd60e51b8152602060048201526019602482015278151bdd185b081b195cdcc81d1a185b881c1c9a5b98da5c185b603a1b60448201526064016101bd565b60648360ff1611156106685760405162461bcd60e51b8152602060048201526013602482015272125b9d985b1a59081e5a595b19081cdc1b1a5d606a1b60448201526064016101bd565b61069d6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333087610bbe565b5f6106a88686610e51565b90505f60646106ba60ff871684610e6a565b6106c49190610e81565b90505f6106d18284610e51565b90505f6106de838a610ed6565b9050818115610b1e578515610aea577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031661075a5760405162461bcd60e51b815260206004820152601460248201527313124b9192481b9bdd0818dbdb999a59dd5c995960621b60448201526064016101bd565b6040516370a0823160e01b81523060048201525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa1580156107be573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107e29190610ebf565b60405163095ea7b360e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166004830152602482018690529192507f00000000000000000000000000000000000000000000000000000000000000009091169063095ea7b3906044016020604051808303815f875af1158015610873573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108979190610ea0565b505f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031689896040516108d3929190610ee9565b5f604051808303815f865af19150503d805f811461090c576040519150601f19603f3d011682016040523d82523d5f602084013e610911565b606091505b50509050806109585760405162461bcd60e51b815260206004820152601360248201527213124b919248189c9a5919d94819985a5b1959606a1b60448201526064016101bd565b6040516370a0823160e01b81523060048201525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa1580156109bc573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906109e09190610ebf565b9050846109ed8285610e51565b14610a325760405162461bcd60e51b8152602060048201526015602482015274098925c8c9240c2dadeeadce840dad2e6dac2e8c6d605b1b60448201526064016101bd565b60405163095ea7b360e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000811660048301525f60248301527f0000000000000000000000000000000000000000000000000000000000000000169063095ea7b3906044016020604051808303815f875af1158015610abd573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610ae19190610ea0565b50505050610b1e565b610b1e6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168c84610c2b565b8015610b5857610b586001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168d83610c2b565b8a6001600160a01b03168c6001600160a01b03168e7f38d1d351aaed4d042e96c9e1ebf794cafeb9ec533318564d969b5335b2d2c3218585604051610ba7929190918252602082015260400190565b60405180910390a450505050505050505050505050565b6040516001600160a01b038481166024830152838116604483015260648201839052610c259186918216906323b872dd906084015b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050610c61565b50505050565b6040516001600160a01b03838116602483015260448201839052610c5c91859182169063a9059cbb90606401610bf3565b505050565b5f8060205f8451602086015f885af180610c80576040513d5f823e3d81fd5b50505f513d91508115610c97578060011415610ca4565b6001600160a01b0384163b155b15610c2557604051635274afe760e01b81526001600160a01b03851660048201526024016101bd565b80356001600160a01b0381168114610ce3575f80fd5b919050565b5f60208284031215610cf8575f80fd5b610d0182610ccd565b9392505050565b803560ff81168114610ce3575f80fd5b5f805f805f805f60e0888a031215610d2e575f80fd5b87359650610d3e60208901610ccd565b9550610d4c60408901610ccd565b94506060880135935060808801359250610d6860a08901610d08565b9150610d7660c08901610ccd565b905092959891949750929550565b5f805f805f805f8060e0898b031215610d9b575f80fd5b88359750610dab60208a01610ccd565b9650610db960408a01610ccd565b95506060890135945060808901359350610dd560a08a01610d08565b925060c089013567ffffffffffffffff811115610df0575f80fd5b8901601f81018b13610e00575f80fd5b803567ffffffffffffffff811115610e16575f80fd5b8b6020828401011115610e27575f80fd5b989b979a50959850939692959194602001935050565b634e487b7160e01b5f52601160045260245ffd5b81810381811115610e6457610e64610e3d565b92915050565b8082028115828204841417610e6457610e64610e3d565b5f82610e9b57634e487b7160e01b5f52601260045260245ffd5b500490565b5f60208284031215610eb0575f80fd5b81518015158114610d01575f80fd5b5f60208284031215610ecf575f80fd5b5051919050565b80820180821115610e6457610e64610e3d565b818382375f910190815291905056fea26469706673582212201fb94039277a7941d2dcaef438cda4b40d60d58899ec4ec7fff46570d16fc8ec64736f6c634300081a0033","sourceMap":"480:5217:3:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;589:36;;;;;;;;-1:-1:-1;;;;;178:32:129;;;160:51;;148:2;133:18;589:36:3;;;;;;;1435:138;;;;;;:::i;:::-;;:::i;:::-;;4161:1534;;;;;;:::i;:::-;;:::i;667:35::-;;;;;-1:-1:-1;;;;;667:35:3;;;631:30;;;;;1611:2000;;;;;;:::i;:::-;;:::i;554:29::-;;;;;1435:138;998:10;-1:-1:-1;;;;;1012:5:3;998:19;;990:42;;;;-1:-1:-1;;;990:42:3;;3351:2:129;990:42:3;;;3333:21:129;3390:2;3370:18;;;3363:30;-1:-1:-1;;;3409:18:129;;;3402:40;3459:18;;990:42:3;;;;;;;;;1496:4:::1;:37:::0;;-1:-1:-1;;;;;;1496:37:3::1;-1:-1:-1::0;;;;;1496:37:3;::::1;::::0;;::::1;::::0;;1548:18:::1;::::0;1496:37;;1548:18:::1;::::0;::::1;1435:138:::0;:::o;4161:1534::-;4440:1;4428:9;:13;4420:47;;;;-1:-1:-1;;;4420:47:3;;3690:2:129;4420:47:3;;;3672:21:129;3729:2;3709:18;;;3702:30;-1:-1:-1;;;3748:18:129;;;3741:51;3809:18;;4420:47:3;3488:345:129;4420:47:3;4494:9;4485:5;:18;;4477:56;;;;-1:-1:-1;;;4477:56:3;;4040:2:129;4477:56:3;;;4022:21:129;4079:2;4059:18;;;4052:30;-1:-1:-1;;;4098:18:129;;;4091:55;4163:18;;4477:56:3;3838:349:129;4477:56:3;4577:3;4551:22;:29;;;;4543:61;;;;-1:-1:-1;;;4543:61:3;;4394:2:129;4543:61:3;;;4376:21:129;4433:2;4413:18;;;4406:30;-1:-1:-1;;;4452:18:129;;;4445:49;4511:18;;4543:61:3;4192:343:129;4543:61:3;4647:1;4630:4;-1:-1:-1;;;;;4630:4:3;4614:59;;;;-1:-1:-1;;;4614:59:3;;4742:2:129;4614:59:3;;;4724:21:129;4781:2;4761:18;;;4754:30;-1:-1:-1;;;4800:18:129;;;4793:49;4859:18;;4614:59:3;4540:343:129;4614:59:3;4728:56;-1:-1:-1;;;;;4728:5:3;:22;4751:10;4771:4;4778:5;4728:22;:56::i;:::-;4832:19;4854:17;4862:9;4854:5;:17;:::i;:::-;4832:39;-1:-1:-1;4881:25:3;4950:3;4910:36;;;;4832:39;4910:36;:::i;:::-;4909:44;;;;:::i;:::-;4881:72;-1:-1:-1;4963:22:3;4988:31;4881:72;4988:11;:31;:::i;:::-;4963:56;-1:-1:-1;5093:13:3;;5089:87;;5122:43;-1:-1:-1;;;;;5122:5:3;:18;5141:12;5155:9;5122:18;:43::i;:::-;5250:21;;5246:181;;5309:4;;5287:47;;-1:-1:-1;;;5287:47:3;;-1:-1:-1;;;;;5309:4:3;;;5287:47;;;5722:51:129;5789:18;;;5782:34;;;5287:5:3;:13;;;;;;5695:18:129;;5287:47:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;5348:4:3;;:68;;-1:-1:-1;;;5348:68:3;;-1:-1:-1;;;;;6329:32:129;;;5348:68:3;;;6311:51:129;6378:18;;;6371:34;;;6441:32;;;6421:18;;;6414:60;5348:4:3;;;;:19;;6284:18:129;;5348:68:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;5246:181;5492:18;;5488:94;;5526:45;-1:-1:-1;;;;;5526:5:3;:18;5545:9;5556:14;5526:18;:45::i;:::-;-1:-1:-1;;;;;5597:91:3;;;;;;5609:6;5597:91;5642:29;5654:17;5642:9;:29;:::i;:::-;5597:91;;;6978:25:129;;;7034:2;7019:18;;7012:34;;;6951:18;5597:91:3;;;;;;;4410:1285;;;4161:1534;;;;;;;:::o;1611:2000::-;1883:1;1871:9;:13;1863:47;;;;-1:-1:-1;;;1863:47:3;;3690:2:129;1863:47:3;;;3672:21:129;3729:2;3709:18;;;3702:30;-1:-1:-1;;;3748:18:129;;;3741:51;3809:18;;1863:47:3;3488:345:129;1863:47:3;1937:9;1928:5;:18;;1920:56;;;;-1:-1:-1;;;1920:56:3;;4040:2:129;1920:56:3;;;4022:21:129;4079:2;4059:18;;;4052:30;-1:-1:-1;;;4098:18:129;;;4091:55;4163:18;;1920:56:3;3838:349:129;1920:56:3;2020:3;1994:22;:29;;;;1986:61;;;;-1:-1:-1;;;1986:61:3;;4394:2:129;1986:61:3;;;4376:21:129;4433:2;4413:18;;;4406:30;-1:-1:-1;;;4452:18:129;;;4445:49;4511:18;;1986:61:3;4192:343:129;1986:61:3;2102:56;-1:-1:-1;;;;;2102:5:3;:22;2125:10;2145:4;2152:5;2102:22;:56::i;:::-;2206:19;2228:17;2236:9;2228:5;:17;:::i;:::-;2206:39;-1:-1:-1;2255:25:3;2324:3;2284:36;;;;2206:39;2284:36;:::i;:::-;2283:44;;;;:::i;:::-;2255:72;-1:-1:-1;2337:22:3;2362:31;2255:72;2362:11;:31;:::i;:::-;2337:56;-1:-1:-1;2404:26:3;2433:29;2445:17;2433:9;:29;:::i;:::-;2404:58;-1:-1:-1;2498:14:3;2587:22;;2583:776;;2629:19;;2625:724;;2733:11;-1:-1:-1;;;;;2733:25:3;2725:58;;;;-1:-1:-1;;;2725:58:3;;7259:2:129;2725:58:3;;;7241:21:129;7298:2;7278:18;;;7271:30;-1:-1:-1;;;7317:18:129;;;7310:50;7377:18;;2725:58:3;7057:344:129;2725:58:3;2821:30;;-1:-1:-1;;;2821:30:3;;2845:4;2821:30;;;160:51:129;2801:17:3;;2821:5;-1:-1:-1;;;;;2821:15:3;;;;133:18:129;;2821:30:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2869:46;;-1:-1:-1;;;2869:46:3;;-1:-1:-1;;;;;2883:11:3;5740:32:129;;2869:46:3;;;5722:51:129;5789:18;;;5782:34;;;2801:50:3;;-1:-1:-1;2869:5:3;:13;;;;;;5695:18:129;;2869:46:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;2934:12;2952:11;-1:-1:-1;;;;;2952:16:3;2969:8;;2952:26;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2933:45;;;3004:7;2996:39;;;;-1:-1:-1;;;2996:39:3;;7884:2:129;2996:39:3;;;7866:21:129;7923:2;7903:18;;;7896:30;-1:-1:-1;;;7942:18:129;;;7935:49;8001:18;;2996:39:3;7682:343:129;2996:39:3;3072:30;;-1:-1:-1;;;3072:30:3;;3096:4;3072:30;;;160:51:129;3053:16:3;;3072:5;-1:-1:-1;;;;;3072:15:3;;;;133:18:129;;3072:30:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3053:49;-1:-1:-1;3152:18:3;3128:20;3053:49;3128:9;:20;:::i;:::-;:42;3120:76;;;;-1:-1:-1;;;3120:76:3;;8232:2:129;3120:76:3;;;8214:21:129;8271:2;8251:18;;;8244:30;-1:-1:-1;;;8290:18:129;;;8283:51;8351:18;;3120:76:3;8030:345:129;3120:76:3;3214:29;;-1:-1:-1;;;3214:29:3;;-1:-1:-1;;;;;3228:11:3;5740:32:129;;3214:29:3;;;5722:51:129;-1:-1:-1;5789:18:129;;;5782:34;3214:5:3;:13;;;;5695:18:129;;3214:29:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;2650:608;;;2625:724;;;3282:52;-1:-1:-1;;;;;3282:5:3;:18;3301:12;3315:18;3282;:52::i;:::-;3416:19;;3412:96;;3451:46;-1:-1:-1;;;;;3451:5:3;:18;3470:9;3481:15;3451:18;:46::i;:::-;3554:12;-1:-1:-1;;;;;3523:81:3;3543:9;-1:-1:-1;;;;;3523:81:3;3535:6;3523:81;3568:18;3588:15;3523:81;;;;;;6978:25:129;;;7034:2;7019:18;;7012:34;6966:2;6951:18;;6804:248;3523:81:3;;;;;;;;1853:1758;;;;;1611:2000;;;;;;;;:::o;1618:188:22:-;1745:53;;-1:-1:-1;;;;;8887:32:129;;;1745:53:22;;;8869:51:129;8956:32;;;8936:18;;;8929:60;9005:18;;;8998:34;;;1718:81:22;;1738:5;;1760:18;;;;;8842::129;;1745:53:22;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1745:53:22;;;;;;;;;;;1718:19;:81::i;:::-;1618:188;;;;:::o;1219:160::-;1328:43;;-1:-1:-1;;;;;5740:32:129;;;1328:43:22;;;5722:51:129;5789:18;;;5782:34;;;1301:71:22;;1321:5;;1343:14;;;;;5695:18:129;;1328:43:22;5548:274:129;1301:71:22;1219:160;;;:::o;8370:720::-;8450:18;8478:19;8616:4;8613:1;8606:4;8600:11;8593:4;8587;8583:15;8580:1;8573:5;8566;8561:60;8673:7;8663:176;;8717:4;8711:11;8762:16;8759:1;8754:3;8739:40;8808:16;8803:3;8796:29;8663:176;-1:-1:-1;;8916:1:22;8910:8;8866:16;;-1:-1:-1;8942:15:22;;:68;;8994:11;9009:1;8994:16;;8942:68;;;-1:-1:-1;;;;;8960:26:22;;;:31;8942:68;8938:146;;;9033:40;;-1:-1:-1;;;9033:40:22;;-1:-1:-1;;;;;178:32:129;;9033:40:22;;;160:51:129;133:18;;9033:40:22;14:203:129;222:173;290:20;;-1:-1:-1;;;;;339:31:129;;329:42;;319:70;;385:1;382;375:12;319:70;222:173;;;:::o;400:186::-;459:6;512:2;500:9;491:7;487:23;483:32;480:52;;;528:1;525;518:12;480:52;551:29;570:9;551:29;:::i;:::-;541:39;400:186;-1:-1:-1;;;400:186:129:o;591:156::-;657:20;;717:4;706:16;;696:27;;686:55;;737:1;734;727:12;752:762;863:6;871;879;887;895;903;911;964:3;952:9;943:7;939:23;935:33;932:53;;;981:1;978;971:12;932:53;1026:23;;;-1:-1:-1;1092:38:129;1126:2;1111:18;;1092:38;:::i;:::-;1082:48;;1149:38;1183:2;1172:9;1168:18;1149:38;:::i;:::-;1139:48;-1:-1:-1;1260:2:129;1245:18;;1232:32;;-1:-1:-1;1363:3:129;1348:19;;1335:33;;-1:-1:-1;1413:37:129;1445:3;1430:19;;1413:37;:::i;:::-;1403:47;;1469:39;1503:3;1492:9;1488:19;1469:39;:::i;:::-;1459:49;;752:762;;;;;;;;;;:::o;1759:1162::-;1881:6;1889;1897;1905;1913;1921;1929;1937;1990:3;1978:9;1969:7;1965:23;1961:33;1958:53;;;2007:1;2004;1997:12;1958:53;2052:23;;;-1:-1:-1;2118:38:129;2152:2;2137:18;;2118:38;:::i;:::-;2108:48;;2175:38;2209:2;2198:9;2194:18;2175:38;:::i;:::-;2165:48;-1:-1:-1;2286:2:129;2271:18;;2258:32;;-1:-1:-1;2389:3:129;2374:19;;2361:33;;-1:-1:-1;2439:37:129;2471:3;2456:19;;2439:37;:::i;:::-;2429:47;;2527:3;2516:9;2512:19;2499:33;2555:18;2547:6;2544:30;2541:50;;;2587:1;2584;2577:12;2541:50;2610:22;;2663:4;2655:13;;2651:27;-1:-1:-1;2641:55:129;;2692:1;2689;2682:12;2641:55;2732:2;2719:16;2758:18;2750:6;2747:30;2744:50;;;2790:1;2787;2780:12;2744:50;2835:7;2830:2;2821:6;2817:2;2813:15;2809:24;2806:37;2803:57;;;2856:1;2853;2846:12;2803:57;1759:1162;;;;-1:-1:-1;1759:1162:129;;-1:-1:-1;1759:1162:129;;;;;;2887:2;2879:11;;-1:-1:-1;;1759:1162:129:o;4888:127::-;4949:10;4944:3;4940:20;4937:1;4930:31;4980:4;4977:1;4970:15;5004:4;5001:1;4994:15;5020:128;5087:9;;;5108:11;;;5105:37;;;5122:18;;:::i;:::-;5020:128;;;;:::o;5153:168::-;5226:9;;;5257;;5274:15;;;5268:22;;5254:37;5244:71;;5295:18;;:::i;5326:217::-;5366:1;5392;5382:132;;5436:10;5431:3;5427:20;5424:1;5417:31;5471:4;5468:1;5461:15;5499:4;5496:1;5489:15;5382:132;-1:-1:-1;5528:9:129;;5326:217::o;5827:277::-;5894:6;5947:2;5935:9;5926:7;5922:23;5918:32;5915:52;;;5963:1;5960;5953:12;5915:52;5995:9;5989:16;6048:5;6041:13;6034:21;6027:5;6024:32;6014:60;;6070:1;6067;6060:12;6485:184;6555:6;6608:2;6596:9;6587:7;6583:23;6579:32;6576:52;;;6624:1;6621;6614:12;6576:52;-1:-1:-1;6647:16:129;;6485:184;-1:-1:-1;6485:184:129:o;6674:125::-;6739:9;;;6760:10;;;6757:36;;;6773:18;;:::i;7406:271::-;7589:6;7581;7576:3;7563:33;7545:3;7615:16;;7640:13;;;7615:16;7406:271;-1:-1:-1;7406:271:129:o","linkReferences":{},"immutableReferences":{"2083":[{"start":314,"length":32},{"start":836,"length":32},{"start":949,"length":32},{"start":1034,"length":32},{"start":1287,"length":32},{"start":1653,"length":32},{"start":1905,"length":32},{"start":2091,"length":32},{"start":2415,"length":32},{"start":2679,"length":32},{"start":2807,"length":32},{"start":2865,"length":32}],"2085":[{"start":131,"length":32},{"start":1775,"length":32},{"start":2041,"length":32},{"start":2203,"length":32},{"start":2633,"length":32}],"2087":[{"start":256,"length":32},{"start":359,"length":32}]}},"methodIdentifiers":{"hook()":"7f5a7c7b","lifiDiamond()":"2bd16c8f","owner()":"8da5cb5b","setHook(address)":"3dfd3873","settle(uint256,address,address,uint256,uint256,uint8,bytes)":"b310d9c6","settleWithHook(uint256,address,address,uint256,uint256,uint8,address)":"5ab9a38c","token()":"fc0c546a"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_lifiDiamond\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_hook\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"SafeERC20FailedOperation\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"dealId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"depositor\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"counterparty\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"counterpartyPayout\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"depositorPayout\",\"type\":\"uint256\"}],\"name\":\"DealSettled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"hook\",\"type\":\"address\"}],\"name\":\"HookUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"hook\",\"outputs\":[{\"internalType\":\"contract IRestlessSettlementHook\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lifiDiamond\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_hook\",\"type\":\"address\"}],\"name\":\"setHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"dealId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"depositor\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"counterparty\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"principal\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"total\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"yieldSplitCounterparty\",\"type\":\"uint8\"},{\"internalType\":\"bytes\",\"name\":\"lifiData\",\"type\":\"bytes\"}],\"name\":\"settle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"dealId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"depositor\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"counterparty\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"principal\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"total\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"yieldSplitCounterparty\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"preferredToken\",\"type\":\"address\"}],\"name\":\"settleWithHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"token\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Called by RestlessEscrow after withdrawing funds from yield adapter\",\"errors\":{\"SafeERC20FailedOperation(address)\":[{\"details\":\"An operation with an ERC-20 token failed.\"}]},\"kind\":\"dev\",\"methods\":{\"settle(uint256,address,address,uint256,uint256,uint8,bytes)\":{\"params\":{\"counterparty\":\"The counterparty address\",\"dealId\":\"The deal identifier\",\"depositor\":\"The depositor address\",\"lifiData\":\"Encoded LI.FI cross-chain route data (empty for same-chain)\",\"principal\":\"The original deposited amount\",\"total\":\"The total withdrawn amount (principal + yield)\",\"yieldSplitCounterparty\":\"Percentage of yield going to counterparty (0-100)\"}},\"settleWithHook(uint256,address,address,uint256,uint256,uint8,address)\":{\"params\":{\"counterparty\":\"The counterparty address\",\"dealId\":\"The deal identifier\",\"depositor\":\"The depositor address\",\"preferredToken\":\"The token counterparty wants their yield in\",\"principal\":\"The original deposited amount\",\"total\":\"The total withdrawn amount (principal + yield)\",\"yieldSplitCounterparty\":\"Percentage of yield going to counterparty (0-100)\"}}},\"title\":\"Settlement\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"setHook(address)\":{\"notice\":\"Update the settlement hook address\"},\"settle(uint256,address,address,uint256,uint256,uint8,bytes)\":{\"notice\":\"Settle a deal: split yield and pay out parties\"},\"settleWithHook(uint256,address,address,uint256,uint256,uint8,address)\":{\"notice\":\"Settle with yield swapped to counterparty's preferred token via hook\"}},\"notice\":\"Handles yield splitting, payout routing, cross-chain bridging (LI.FI), and yield swaps (v4 hook)\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/Settlement.sol\":\"Settlement\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@aave/=node_modules/@aave/\",\":@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/\",\":@uniswap/v4-core/=node_modules/@uniswap/v4-core/\",\":@uniswap/v4-periphery/=node_modules/@uniswap/v4-periphery/\",\":forge-std/=node_modules/forge-std/src/\",\":hardhat/=node_modules/hardhat/\",\":solmate/=node_modules/solmate/\"]},\"sources\":{\"contracts/Settlement.sol\":{\"keccak256\":\"0x29eefb257185577a4e41679ec74fb7a7574906e1150cfec97fc2b5296324a778\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0a65eea9f60ffad505042f84e714e9aeb91ea44f4624c6b0dd4bc88dc9be2f12\",\"dweb:/ipfs/QmQypusqSxsae97BYfaFfHiyoBNkRpsBsQe8WcvyTcEm7B\"]},\"contracts/interfaces/IRestlessSettlementHook.sol\":{\"keccak256\":\"0x6f8f0515612ceb1c7acd00b52cde4a57fa9388678877f56ef4fe8d9da3214f8f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://84ef8b5425db03ae62e5d02ada5989b3cb16618c688b9788eeccf26b1fff1fa4\",\"dweb:/ipfs/QmQjkxUwoEJvsCrrvqAtKVhcx7DXQ3zm5xL6vXDQ4hvNj8\"]},\"contracts/interfaces/ISettlement.sol\":{\"keccak256\":\"0xac0c0831605d805279f99983e98ef7aab6d7d01e11ece1251399b86785be3964\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://4adcc9d3c993c059905861fddc96d2f4cdf7913b894a7db2b06111a56da57045\",\"dweb:/ipfs/QmUkrotB9APhKGJtBoDyZHWwtJacSLcCNrzdxv1roYgqFk\"]},\"node_modules/@openzeppelin/contracts/interfaces/IERC1363.sol\":{\"keccak256\":\"0xd5ea07362ab630a6a3dee4285a74cf2377044ca2e4be472755ad64d7c5d4b69d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://da5e832b40fc5c3145d3781e2e5fa60ac2052c9d08af7e300dc8ab80c4343100\",\"dweb:/ipfs/QmTzf7N5ZUdh5raqtzbM11yexiUoLC9z3Ws632MCuycq1d\"]},\"node_modules/@openzeppelin/contracts/interfaces/IERC165.sol\":{\"keccak256\":\"0x0afcb7e740d1537b252cb2676f600465ce6938398569f09ba1b9ca240dde2dfc\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1c299900ac4ec268d4570ecef0d697a3013cd11a6eb74e295ee3fbc945056037\",\"dweb:/ipfs/Qmab9owJoxcA7vJT5XNayCMaUR1qxqj1NDzzisduwaJMcZ\"]},\"node_modules/@openzeppelin/contracts/interfaces/IERC20.sol\":{\"keccak256\":\"0x1a6221315ce0307746c2c4827c125d821ee796c74a676787762f4778671d4f44\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1bb2332a7ee26dd0b0de9b7fe266749f54820c99ab6a3bcb6f7e6b751d47ee2d\",\"dweb:/ipfs/QmcRWpaBeCYkhy68PR3B4AgD7asuQk7PwkWxrvJbZcikLF\"]},\"node_modules/@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0x74ed01eb66b923d0d0cfe3be84604ac04b76482a55f9dd655e1ef4d367f95bc2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5282825a626cfe924e504274b864a652b0023591fa66f06a067b25b51ba9b303\",\"dweb:/ipfs/QmeCfPykghhMc81VJTrHTC7sF6CRvaA1FXVq2pJhwYp1dV\"]},\"node_modules/@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\":{\"keccak256\":\"0x982c5cb790ab941d1e04f807120a71709d4c313ba0bfc16006447ffbd27fbbd5\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8150ceb4ac947e8a442b2a9c017e01e880b2be2dd958f1fa9bc405f4c5a86508\",\"dweb:/ipfs/QmbcBmFX66AY6Kbhnd5gx7zpkgqnUafo43XnmayAM7zVdB\"]},\"node_modules/@openzeppelin/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x8891738ffe910f0cf2da09566928589bf5d63f4524dd734fd9cedbac3274dd5c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://971f954442df5c2ef5b5ebf1eb245d7105d9fbacc7386ee5c796df1d45b21617\",\"dweb:/ipfs/QmadRjHbkicwqwwh61raUEapaVEtaLMcYbQZWs9gUkgj3u\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address","name":"_lifiDiamond","type":"address"},{"internalType":"address","name":"_hook","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"type":"error","name":"SafeERC20FailedOperation"},{"inputs":[{"internalType":"uint256","name":"dealId","type":"uint256","indexed":true},{"internalType":"address","name":"depositor","type":"address","indexed":true},{"internalType":"address","name":"counterparty","type":"address","indexed":true},{"internalType":"uint256","name":"counterpartyPayout","type":"uint256","indexed":false},{"internalType":"uint256","name":"depositorPayout","type":"uint256","indexed":false}],"type":"event","name":"DealSettled","anonymous":false},{"inputs":[{"internalType":"address","name":"hook","type":"address","indexed":true}],"type":"event","name":"HookUpdated","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"hook","outputs":[{"internalType":"contract IRestlessSettlementHook","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"lifiDiamond","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"_hook","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setHook"},{"inputs":[{"internalType":"uint256","name":"dealId","type":"uint256"},{"internalType":"address","name":"depositor","type":"address"},{"internalType":"address","name":"counterparty","type":"address"},{"internalType":"uint256","name":"principal","type":"uint256"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"uint8","name":"yieldSplitCounterparty","type":"uint8"},{"internalType":"bytes","name":"lifiData","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"settle"},{"inputs":[{"internalType":"uint256","name":"dealId","type":"uint256"},{"internalType":"address","name":"depositor","type":"address"},{"internalType":"address","name":"counterparty","type":"address"},{"internalType":"uint256","name":"principal","type":"uint256"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"uint8","name":"yieldSplitCounterparty","type":"uint8"},{"internalType":"address","name":"preferredToken","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"settleWithHook"},{"inputs":[],"stateMutability":"view","type":"function","name":"token","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{"settle(uint256,address,address,uint256,uint256,uint8,bytes)":{"params":{"counterparty":"The counterparty address","dealId":"The deal identifier","depositor":"The depositor address","lifiData":"Encoded LI.FI cross-chain route data (empty for same-chain)","principal":"The original deposited amount","total":"The total withdrawn amount (principal + yield)","yieldSplitCounterparty":"Percentage of yield going to counterparty (0-100)"}},"settleWithHook(uint256,address,address,uint256,uint256,uint8,address)":{"params":{"counterparty":"The counterparty address","dealId":"The deal identifier","depositor":"The depositor address","preferredToken":"The token counterparty wants their yield in","principal":"The original deposited amount","total":"The total withdrawn amount (principal + yield)","yieldSplitCounterparty":"Percentage of yield going to counterparty (0-100)"}}},"version":1},"userdoc":{"kind":"user","methods":{"setHook(address)":{"notice":"Update the settlement hook address"},"settle(uint256,address,address,uint256,uint256,uint8,bytes)":{"notice":"Settle a deal: split yield and pay out parties"},"settleWithHook(uint256,address,address,uint256,uint256,uint8,address)":{"notice":"Settle with yield swapped to counterparty's preferred token via hook"}},"version":1}},"settings":{"remappings":["@aave/=node_modules/@aave/","@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/","@uniswap/v4-core/=node_modules/@uniswap/v4-core/","@uniswap/v4-periphery/=node_modules/@uniswap/v4-periphery/","forge-std/=node_modules/forge-std/src/","hardhat/=node_modules/hardhat/","solmate/=node_modules/solmate/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/Settlement.sol":"Settlement"},"evmVersion":"cancun","libraries":{}},"sources":{"contracts/Settlement.sol":{"keccak256":"0x29eefb257185577a4e41679ec74fb7a7574906e1150cfec97fc2b5296324a778","urls":["bzz-raw://0a65eea9f60ffad505042f84e714e9aeb91ea44f4624c6b0dd4bc88dc9be2f12","dweb:/ipfs/QmQypusqSxsae97BYfaFfHiyoBNkRpsBsQe8WcvyTcEm7B"],"license":"MIT"},"contracts/interfaces/IRestlessSettlementHook.sol":{"keccak256":"0x6f8f0515612ceb1c7acd00b52cde4a57fa9388678877f56ef4fe8d9da3214f8f","urls":["bzz-raw://84ef8b5425db03ae62e5d02ada5989b3cb16618c688b9788eeccf26b1fff1fa4","dweb:/ipfs/QmQjkxUwoEJvsCrrvqAtKVhcx7DXQ3zm5xL6vXDQ4hvNj8"],"license":"MIT"},"contracts/interfaces/ISettlement.sol":{"keccak256":"0xac0c0831605d805279f99983e98ef7aab6d7d01e11ece1251399b86785be3964","urls":["bzz-raw://4adcc9d3c993c059905861fddc96d2f4cdf7913b894a7db2b06111a56da57045","dweb:/ipfs/QmUkrotB9APhKGJtBoDyZHWwtJacSLcCNrzdxv1roYgqFk"],"license":"MIT"},"node_modules/@openzeppelin/contracts/interfaces/IERC1363.sol":{"keccak256":"0xd5ea07362ab630a6a3dee4285a74cf2377044ca2e4be472755ad64d7c5d4b69d","urls":["bzz-raw://da5e832b40fc5c3145d3781e2e5fa60ac2052c9d08af7e300dc8ab80c4343100","dweb:/ipfs/QmTzf7N5ZUdh5raqtzbM11yexiUoLC9z3Ws632MCuycq1d"],"license":"MIT"},"node_modules/@openzeppelin/contracts/interfaces/IERC165.sol":{"keccak256":"0x0afcb7e740d1537b252cb2676f600465ce6938398569f09ba1b9ca240dde2dfc","urls":["bzz-raw://1c299900ac4ec268d4570ecef0d697a3013cd11a6eb74e295ee3fbc945056037","dweb:/ipfs/Qmab9owJoxcA7vJT5XNayCMaUR1qxqj1NDzzisduwaJMcZ"],"license":"MIT"},"node_modules/@openzeppelin/contracts/interfaces/IERC20.sol":{"keccak256":"0x1a6221315ce0307746c2c4827c125d821ee796c74a676787762f4778671d4f44","urls":["bzz-raw://1bb2332a7ee26dd0b0de9b7fe266749f54820c99ab6a3bcb6f7e6b751d47ee2d","dweb:/ipfs/QmcRWpaBeCYkhy68PR3B4AgD7asuQk7PwkWxrvJbZcikLF"],"license":"MIT"},"node_modules/@openzeppelin/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x74ed01eb66b923d0d0cfe3be84604ac04b76482a55f9dd655e1ef4d367f95bc2","urls":["bzz-raw://5282825a626cfe924e504274b864a652b0023591fa66f06a067b25b51ba9b303","dweb:/ipfs/QmeCfPykghhMc81VJTrHTC7sF6CRvaA1FXVq2pJhwYp1dV"],"license":"MIT"},"node_modules/@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol":{"keccak256":"0x982c5cb790ab941d1e04f807120a71709d4c313ba0bfc16006447ffbd27fbbd5","urls":["bzz-raw://8150ceb4ac947e8a442b2a9c017e01e880b2be2dd958f1fa9bc405f4c5a86508","dweb:/ipfs/QmbcBmFX66AY6Kbhnd5gx7zpkgqnUafo43XnmayAM7zVdB"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x8891738ffe910f0cf2da09566928589bf5d63f4524dd734fd9cedbac3274dd5c","urls":["bzz-raw://971f954442df5c2ef5b5ebf1eb245d7105d9fbacc7386ee5c796df1d45b21617","dweb:/ipfs/QmadRjHbkicwqwwh61raUEapaVEtaLMcYbQZWs9gUkgj3u"],"license":"MIT"}},"version":1},"id":3}